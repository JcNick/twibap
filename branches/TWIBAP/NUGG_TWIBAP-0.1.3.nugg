<?xml version="1.0" encoding="utf-16"?>
<nugget name="TWIBAP-0.1.4">
 <CLAS CLSNAME="ZCL_TWA_USER_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API User Resources" UUID="6B87484CE086190CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_USER_RES definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR .
  methods SHOW
    importing
      !USERNAME type STRING
    returning
      value(USER) type ref to ZCL_TWA_USER
    raising
      ZCX_OAUTH_ERROR .
  methods LOOKUP .
  methods SEARCH .
  methods SUGGESTIONS .
  methods FRIENDS
    importing
      !USERNAME type STRING
    returning
      value(USERS) type ZCL_TWA_USER_T
    raising
      ZCX_OAUTH_ERROR .
  methods FOLLOWERS
    importing
      !USERNAME type STRING optional
    returning
      value(USERS) type ZCL_TWA_USER_T
    raising
      ZCX_OAUTH_ERROR .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!
private section.

  data OAUTH type ref to ZCL_OAUTH .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_USER_RES" CMPNAME="OAUTH" VERSION="1" LANGU="D" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="* = not implemented yet / A! = auth required" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

  me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" VERSION="1" LANGU="D" DESCRIPT="http://dev.twitter.com/doc/get/statuses/followers" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" SCONAME="USERNAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100723" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" SCONAME="USERS" VERSION="1" LANGU="D" DESCRIPT="Twitter User table" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_USER_T"/>
   <exception CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD followers.

  DATA: url        TYPE string
      , json       TYPE string
      , user_json  TYPE string
      , json_doc   TYPE REF TO zcl_json_document
      .

  FIELD-SYMBOLS: &lt;user&gt; TYPE REF TO zcl_twa_user.

  IF username IS NOT INITIAL.
    CONCATENATE
      &apos;/statuses/followers/&apos;
      username
      &apos;.json&apos;
    INTO url.
  ELSE.
    url = &apos;/statuses/followers.json&apos;.
  ENDIF.

  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    user_json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE users ASSIGNING &lt;user&gt;.
    &lt;user&gt; = zcl_twa_user=&gt;newfromjson( user_json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" VERSION="1" LANGU="D" DESCRIPT="http://dev.twitter.com/doc/get/statuses/friends" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" SCONAME="USERNAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" SCONAME="USERS" VERSION="1" LANGU="D" DESCRIPT="Twitter User table" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_USER_T"/>
   <exception CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD friends.

  DATA: url        TYPE string
      , json       TYPE string
      , json_doc   TYPE REF TO zcl_json_document
      , user_json  TYPE string
      .

  FIELD-SYMBOLS: &lt;user&gt; TYPE REF TO zcl_twa_user.

  CONCATENATE
    &apos;/statuses/friends/&apos;
    username
    &apos;.json&apos;
  INTO url.

  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    user_json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE users ASSIGNING &lt;user&gt;.
    &lt;user&gt; = zcl_twa_user=&gt;newfromjson( user_json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="LOOKUP" VERSION="1" LANGU="D" DESCRIPT="* A! http://dev.twitter.com/doc/get/users/lo" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100723" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>method LOOKUP.
endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SEARCH" VERSION="1" LANGU="D" DESCRIPT="* A! http://dev.twitter.com/doc/get/users/se" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100723" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>method SEARCH.
endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" VERSION="1" LANGU="D" DESCRIPT="http://dev.twitter.com/doc/get/users/show" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" SCONAME="USERNAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" SCONAME="USER" VERSION="1" LANGU="D" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <exception CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD show.

  DATA: url  TYPE string
      , json TYPE string
      .

  CONCATENATE
    &apos;/users/show/&apos;
    username
    &apos;.json&apos;
  INTO url.

  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
  user = zcl_twa_user=&gt;newfromjson( json ).

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SUGGESTIONS" VERSION="1" LANGU="D" DESCRIPT="* http://dev.twitter.com/doc/get/users/suggestions" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100723" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>method SUGGESTIONS.
endmethod.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" UUID="A6E6464C63E4400CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_USER definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_USER
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR
    importing
      !ID type STRING optional
      !NAME type STRING optional
      !SCREEN_NAME type STRING optional
      !LOCATION type STRING optional
      !DESCRIPTION type STRING optional
      !PROFILE_IMAGE_URL type STRING optional
      !PROFILE_BACKGROUND_TILE type STRING optional
      !PROFILE_BACKGROUND_IMAGE_URL type STRING optional
      !PROFILE_SIDEBAR_FILL_COLOR type STRING optional
      !PROFILE_BACKGROUND_COLOR type STRING optional
      !PROFILE_LINK_COLOR type STRING optional
      !PROFILE_TEXT_COLOR type STRING optional
      !PROTECTED type STRING optional
      !UTC_OFFSET type I optional
      !TIME_ZONE type STRING optional
      !FOLLOWERS_COUNT type I optional
      !FRIENDS_COUNT type I optional
      !STATUSES_COUNT type I optional
      !FAVOURITES_COUNT type I optional
      !URL type STRING optional
      !STATUS type ref to ZCL_TWA_STATUS optional .
  class-methods NEWFROMJSON
    importing
      !JSON type STRING
    returning
      value(USER) type ref to ZCL_TWA_USER .
  methods GETID
    returning
      value(ID) type STRING .
  methods SETID
    importing
      !ID type STRING .
  methods GETNAME
    returning
      value(NAME) type STRING .
  methods SETNAME
    importing
      !NAME type STRING .
  methods GETSCREENNAME
    returning
      value(SCREEN_NAME) type STRING .
  methods SETSCREENNAME
    importing
      !SCREEN_NAME type STRING .
  methods GETLOCATION
    returning
      value(LOCATION) type STRING .
  methods SETLOCATION
    importing
      !LOCATION type STRING .
  methods GETDESCRIPTION
    returning
      value(DESCRIPTION) type STRING .
  methods SETDESCRIPTION
    importing
      !DESCRIPTION type STRING .
  methods GETURL
    returning
      value(URL) type STRING .
  methods SETURL
    importing
      !URL type STRING .
  methods GETPROFILEIMAGEURL
    returning
      value(PROFILE_IMAGE_URL) type STRING .
  methods SETPROFILEIMAGEURL
    importing
      !PROFILE_IMAGE_URL type STRING .
  methods GETPROFILEBACKGROUNDTILE
    returning
      value(PROFILE_BACKGROUND_TILE) type STRING .
  methods SETPROFILEBACKGROUNDTILE
    importing
      !PROFILE_BACKGROUND_TILE type STRING .
  methods GETPROFILEBACKGROUNDIMAGEURL
    returning
      value(PROFILE_BACKGROUND_IMAGE_URL) type STRING .
  methods SETPROFILEBACKGROUNDIMAGEURL
    importing
      !PROFILE_BACKGROUND_IMAGE_URL type STRING .
  methods GETPROFILESIDEBARFILLCOLOR
    returning
      value(PROFILE_SIDEBAR_FILL_COLOR) type STRING .
  methods SETPROFILESIDEBARFILLCOLOR
    importing
      !PROFILE_SIDEBAR_FILL_COLOR type STRING .
  methods GETPROFILEBACKGROUNDCOLOR
    returning
      value(PROFILE_BACKGROUND_COLOR) type STRING .
  methods SETPROFILEBACKGROUNDCOLOR
    importing
      !PROFILE_BACKGROUND_COLOR type STRING .
  methods GETPROFILELINKCOLOR
    returning
      value(PROFILE_LINK_COLOR) type STRING .
  methods SETPROFILELINKCOLOR
    importing
      !PROFILE_LINK_COLOR type STRING .
  methods GETPROFILETEXTCOLOR
    returning
      value(PROFILE_TEXT_COLOR) type STRING .
  methods SETPROFILETEXTCOLOR
    importing
      !PROFILE_TEXT_COLOR type STRING .
  methods GETPROTECTED
    returning
      value(PROTECTED) type STRING .
  methods SETPROTECTED
    importing
      !PROTECTED type STRING .
  methods GETUTCOFFSET
    returning
      value(UTC_OFFSET) type I .
  methods SETUTCOFFSET
    importing
      !UTC_OFFSET type I .
  methods GETTIMEZONE
    returning
      value(TIME_ZONE) type STRING .
  methods SETTIMEZONE
    importing
      !TIME_ZONE type STRING .
  methods GETSTATUS
    returning
      value(STATUS) type ref to ZCL_TWA_STATUS .
  methods SETSTATUS
    importing
      !STATUS type ref to ZCL_TWA_STATUS .
  methods GETFRIENDSCOUNT
    returning
      value(FRIENDS_COUNT) type I .
  methods SETFRIENDSCOUNT
    importing
      !FRIENDS_COUNT type I .
  methods GETFOLLOWERSCOUNT
    returning
      value(FOLLOWERS_COUNT) type I .
  methods SETFOLLOWERSCOUNT
    importing
      !FOLLOWERS_COUNT type I .
  methods GETSTATUSESCOUNT
    returning
      value(STATUSES_COUNT) type I .
  methods SETSTATUSESCOUNT
    importing
      !STATUSES_COUNT type I .
  methods GETFAVOURITESCOUNT
    returning
      value(FAVOURITES_COUNT) type I .
  methods SETFAVOURITESCOUNT
    importing
      !FAVOURITES_COUNT type I .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_USER
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_USER
*&quot;* do not include other source files here!!!
private section.

  data ID type STRING .
  data NAME type STRING .
  data SCREEN_NAME type STRING .
  data LOCATION type STRING .
  data DESCRIPTION type STRING .
  data PROFILE_IMAGE_URL type STRING .
  data PROFILE_BACKGROUND_TILE type STRING .
  data PROFILE_BACKGROUND_IMAGE_URL type STRING .
  data PROFILE_SIDEBAR_FILL_COLOR type STRING .
  data PROFILE_BACKGROUND_COLOR type STRING .
  data PROFILE_LINK_COLOR type STRING .
  data PROFILE_TEXT_COLOR type STRING .
  data PROTECTED type STRING .
  data UTC_OFFSET type STRING .
  data TIME_ZONE type STRING .
  data FOLLOWERS_COUNT type I .
  data FRIENDS_COUNT type I .
  data STATUSES_COUNT type I .
  data FAVOURITES_COUNT type I .
  data URL type STRING .
  data STATUS type ref to ZCL_TWA_STATUS .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="DESCRIPTION" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="5 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="FAVOURITES_COUNT" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="19 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="FOLLOWERS_COUNT" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="16 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="FRIENDS_COUNT" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="17 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="ID" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="LOCATION" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="4 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="NAME" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="2 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="10 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="8 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="7 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="6 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="11 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="9 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="12 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROTECTED" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="13 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="SCREEN_NAME" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="3 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" EXPOSURE="0" STATE="1" EDITORDER="21 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100721" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="STATUSES_COUNT" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="18 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="TIME_ZONE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="15 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="URL" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="20 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="UTC_OFFSET" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="14 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="LOCATION" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="DESCRIPTION" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="11 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="12 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROTECTED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="13 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="UTC_OFFSET" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="14 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="TIME_ZONE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="15 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="FOLLOWERS_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="16 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="FRIENDS_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="17 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="STATUSES_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="18 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="FAVOURITES_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="19 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="20 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="2" EDITORDER="21 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100721" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_STATUS" PAROPTIONL="X"/>
   <source>METHOD constructor.

  me-&gt;id = id.
  me-&gt;name = name.
  me-&gt;screen_name = screen_name.
  me-&gt;location = location.
  me-&gt;description = description.
  me-&gt;profile_image_url = profile_image_url.
  me-&gt;profile_background_tile = profile_background_tile.
  me-&gt;profile_background_image_url = profile_background_image_url.
  me-&gt;profile_sidebar_fill_color = profile_sidebar_fill_color.
  me-&gt;profile_background_color = profile_background_color.
  me-&gt;profile_link_color = profile_link_color.
  me-&gt;profile_text_color = profile_text_color.
  me-&gt;protected = protected.
  me-&gt;utc_offset = utc_offset.
  me-&gt;time_zone = time_zone.
  me-&gt;followers_count = followers_count.
  me-&gt;friends_count = friends_count.
  me-&gt;statuses_count = statuses_count.
  me-&gt;favourites_count = favourites_count.
  me-&gt;url = url.
  me-&gt;status = status.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="45 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETDESCRIPTION" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETDESCRIPTION" SCONAME="DESCRIPTION" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETDESCRIPTION.

  Description = me-&gt;Description.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETFAVOURITESCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="43 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETFAVOURITESCOUNT" SCONAME="FAVOURITES_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD GETFAVOURITESCOUNT.

  Favourites_Count = me-&gt;Favourites_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETFOLLOWERSCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="39 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETFOLLOWERSCOUNT" SCONAME="FOLLOWERS_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD GETFOLLOWERSCOUNT.

  Followers_Count = me-&gt;Followers_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETFRIENDSCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="37 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETFRIENDSCOUNT" SCONAME="FRIENDS_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD GETFRIENDSCOUNT.

  Friends_Count = me-&gt;Friends_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETID" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getid.

  id = me-&gt;id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETLOCATION" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETLOCATION" SCONAME="LOCATION" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETLOCATION.

  Location = me-&gt;Location.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETNAME" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETNAME" SCONAME="NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETNAME.

  name = me-&gt;name.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="23 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDCOLOR" SCONAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROFILEBACKGROUNDCOLOR.

  Profile_Background_Color = me-&gt;Profile_Background_Color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDIMAGEURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDIMAGEURL" SCONAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROFILEBACKGROUNDIMAGEURL.

  Profile_Background_Image_Url = me-&gt;Profile_Background_Image_Url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDTILE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDTILE" SCONAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROFILEBACKGROUNDTILE.

  Profile_Background_Tile = me-&gt;Profile_Background_Tile.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEIMAGEURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEIMAGEURL" SCONAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROFILEIMAGEURL.

  Profile_Image_Url = me-&gt;Profile_Image_Url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILELINKCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="25 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILELINKCOLOR" SCONAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofilelinkcolor.

  profile_link_color = me-&gt;profile_link_color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILESIDEBARFILLCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="21 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILESIDEBARFILLCOLOR" SCONAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROFILESIDEBARFILLCOLOR.

  Profile_Sidebar_Fill_Color = me-&gt;Profile_Sidebar_Fill_Color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILETEXTCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="27 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILETEXTCOLOR" SCONAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROFILETEXTCOLOR.

  Profile_Text_Color = me-&gt;Profile_Text_Color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROTECTED" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="29 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROTECTED" SCONAME="PROTECTED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPROTECTED.

  Protected = me-&gt;Protected.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETSCREENNAME" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETSCREENNAME" SCONAME="SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETSCREENNAME.

  screen_name = me-&gt;screen_name.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUS" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="35 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUS" SCONAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <source>METHOD GETSTATUS.

  Status = me-&gt;Status.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUSESCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="41 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUSESCOUNT" SCONAME="STATUSES_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD GETSTATUSESCOUNT.

  Statuses_Count = me-&gt;Statuses_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETTIMEZONE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="33 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETTIMEZONE" SCONAME="TIME_ZONE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETTIMEZONE.

  Time_Zone = me-&gt;Time_Zone.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETURL" SCONAME="URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETURL.

  Url = me-&gt;Url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETUTCOFFSET" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="31 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETUTCOFFSET" SCONAME="UTC_OFFSET" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD GETUTCOFFSET.

  Utc_Offset = me-&gt;Utc_Offset.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100813" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100813" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="NEWFROMJSON" SCONAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100813" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD newfromjson.

  DATA: json_doc                     TYPE REF TO zcl_json_document
      , id                           TYPE string
      , name                         TYPE string
      , screen_name                  TYPE string
      , location                     TYPE string
      , description                  TYPE string
      , profile_image_url            TYPE string
      , profile_background_tile      TYPE string
      , profile_background_image_url TYPE string
      , profile_sidebar_fill_color   TYPE string
      , profile_background_color     TYPE string
      , profile_link_color           TYPE string
      , profile_text_color           TYPE string
      , protected                    TYPE string
      , utc_offset                   TYPE i
      , time_zone                    TYPE string
      , followers_count              TYPE i
      , friends_count                TYPE i
      , statuses_count               TYPE i
      , favourites_count             TYPE i
      , url                          TYPE string
      , status                       TYPE REF TO zcl_twa_status
      , status_json                  TYPE string
      .

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  id                           = json_doc-&gt;get_value( &apos;id&apos; ).
  name                         = json_doc-&gt;get_value( &apos;name&apos; ).
  screen_name                  = json_doc-&gt;get_value( &apos;screen_name&apos; ).
  location                     = json_doc-&gt;get_value( &apos;location&apos; ).
  description                  = json_doc-&gt;get_value( &apos;description&apos; ).
  profile_image_url            = json_doc-&gt;get_value( &apos;profile_image_url&apos; ).
  profile_background_tile      = json_doc-&gt;get_value( &apos;profile_background_tile&apos; ).
  profile_background_image_url = json_doc-&gt;get_value( &apos;profile_background_image_url&apos; ).
  profile_sidebar_fill_color   = json_doc-&gt;get_value( &apos;profile_sidebar_fill_color&apos; ).
  profile_background_color     = json_doc-&gt;get_value( &apos;profile_background_color&apos; ).
  profile_link_color           = json_doc-&gt;get_value( &apos;profile_link_color&apos; ).
  profile_text_color           = json_doc-&gt;get_value( &apos;profile_text_color&apos; ).
  protected                    = json_doc-&gt;get_value( &apos;protected&apos; ).
  utc_offset                   = json_doc-&gt;get_value_int( &apos;utc_offset&apos; ).
  time_zone                    = json_doc-&gt;get_value( &apos;time_zone&apos; ).
  followers_count              = json_doc-&gt;get_value_int( &apos;followers_count&apos; ).
  friends_count                = json_doc-&gt;get_value_int( &apos;friends_count&apos; ).
  statuses_count               = json_doc-&gt;get_value_int( &apos;statuses_count&apos; ).
  favourites_count             = json_doc-&gt;get_value_int( &apos;favourites_count&apos; ).
  url                          = json_doc-&gt;get_value( &apos;url&apos; ).

  &quot;*--- create status object ---*
  status_json = json_doc-&gt;get_value( &apos;status&apos; ).

  IF status_json IS NOT INITIAL.
    status = zcl_twa_status=&gt;newfromjson( status_json ).
  ENDIF.

  CREATE OBJECT user
    EXPORTING
      id                           = id
      name                         = name
      screen_name                  = screen_name
      location                     = location
      description                  = description
      profile_image_url            = profile_image_url
      profile_background_tile      = profile_background_tile
      profile_background_image_url = profile_background_image_url
      profile_sidebar_fill_color   = profile_sidebar_fill_color
      profile_background_color     = profile_background_color
      profile_link_color           = profile_link_color
      profile_text_color           = profile_text_color
      protected                    = protected
      utc_offset                   = utc_offset
      time_zone                    = time_zone
      followers_count              = followers_count
      friends_count                = friends_count
      statuses_count               = statuses_count
      favourites_count             = favourites_count
      url                          = url
      status                       = status.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETDESCRIPTION" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETDESCRIPTION" SCONAME="DESCRIPTION" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETDESCRIPTION.

  me-&gt;Description = Description.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETFAVOURITESCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="44 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETFAVOURITESCOUNT" SCONAME="FAVOURITES_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETFAVOURITESCOUNT.

  me-&gt;Favourites_Count = Favourites_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETFOLLOWERSCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="40 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETFOLLOWERSCOUNT" SCONAME="FOLLOWERS_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETFOLLOWERSCOUNT.

  me-&gt;Followers_Count = Followers_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETFRIENDSCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="38 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETFRIENDSCOUNT" SCONAME="FRIENDS_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETFRIENDSCOUNT.

  me-&gt;Friends_Count = Friends_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETID" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setid.

  me-&gt;id = id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETLOCATION" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETLOCATION" SCONAME="LOCATION" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETLOCATION.

  me-&gt;Location = Location.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETNAME" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETNAME" SCONAME="NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETNAME.

  me-&gt;name = name.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="24 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDCOLOR" SCONAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROFILEBACKGROUNDCOLOR.

  me-&gt;Profile_Background_Color = Profile_Background_Color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDIMAGEURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDIMAGEURL" SCONAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROFILEBACKGROUNDIMAGEURL.

  me-&gt;Profile_Background_Image_Url = Profile_Background_Image_Url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDTILE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDTILE" SCONAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROFILEBACKGROUNDTILE.

  me-&gt;Profile_Background_Tile = Profile_Background_Tile.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEIMAGEURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEIMAGEURL" SCONAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROFILEIMAGEURL.

  me-&gt;Profile_Image_Url = Profile_Image_Url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILELINKCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="26 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILELINKCOLOR" SCONAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofilelinkcolor.

  me-&gt;profile_link_color = profile_link_color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILESIDEBARFILLCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="22 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILESIDEBARFILLCOLOR" SCONAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROFILESIDEBARFILLCOLOR.

  me-&gt;Profile_Sidebar_Fill_Color = Profile_Sidebar_Fill_Color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILETEXTCOLOR" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="28 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILETEXTCOLOR" SCONAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROFILETEXTCOLOR.

  me-&gt;Profile_Text_Color = Profile_Text_Color.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROTECTED" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="30 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROTECTED" SCONAME="PROTECTED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPROTECTED.

  me-&gt;Protected = Protected.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETSCREENNAME" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETSCREENNAME" SCONAME="SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETSCREENNAME.

  me-&gt;screen_name = screen_name.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUS" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="36 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUS" SCONAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <source>METHOD SETSTATUS.

  me-&gt;Status = Status.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUSESCOUNT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="42 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUSESCOUNT" SCONAME="STATUSES_COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETSTATUSESCOUNT.

  me-&gt;Statuses_Count = Statuses_Count.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETTIMEZONE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="34 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETTIMEZONE" SCONAME="TIME_ZONE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETTIMEZONE.

  me-&gt;Time_Zone = Time_Zone.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETURL" SCONAME="URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETURL.

  me-&gt;Url = Url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETUTCOFFSET" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="32 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETUTCOFFSET" SCONAME="UTC_OFFSET" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETUTCOFFSET.

  me-&gt;Utc_Offset = Utc_Offset.

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_TWEETS_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Tweets resources" UUID="4C85494CC05C2D0CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100723" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_TWEETS_RES definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_TWEETS_RES
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR .
  methods SHOW
    importing
      !ID type STRING
    returning
      value(STATUS) type ref to ZCL_TWA_STATUS
    raising
      ZCX_OAUTH_ERROR .
  methods UPDATE
    importing
      !TEXT type STRING
      !IN_REPLY_TO_STATUS_ID type STRING optional
      !LAT type STRING optional
      !LONG type STRING optional
      !PLACE_ID type STRING optional
      !DISPLAY_COORDINATES type STRING optional
    returning
      value(STATUS) type ref to ZCL_TWA_STATUS
    raising
      ZCX_OAUTH_ERROR .
  methods DESTROY
    importing
      !ID type STRING
    returning
      value(STATUS) type ref to ZCL_TWA_STATUS
    raising
      ZCX_OAUTH_ERROR .
  methods RETWEET
    raising
      ZCX_OAUTH_ERROR .
  methods RETWEETS
    raising
      ZCX_OAUTH_ERROR .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_TWEETS_RES
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_TWEETS_RES
*&quot;* do not include other source files here!!!
private section.

  data OAUTH type ref to ZCL_OAUTH .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="OAUTH" VERSION="1" LANGU="D" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="* = not implemented yet / A! = auth required" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

  me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/post/statuses/destroy/:id" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100807" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" SCONAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100807" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD destroy.

  DATA: url             TYPE string
      , json            TYPE string
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/destroy/&apos;
    id
    &apos;.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( ).

  &quot;*--- send request ---*
  CONCATENATE
    &apos;/statuses/destroy/&apos;
    id
    &apos;.json&apos;
  INTO url.

  json = oauth-&gt;fetchurl( url ).
  status = zcl_twa_status=&gt;newfromjson( json ).

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEET" VERSION="1" LANGU="D" DESCRIPT="* A! http://dev.twitter.com/doc/post/statuses/retweet/:id" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEET" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>method RETWEET.
endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEETS" VERSION="1" LANGU="D" DESCRIPT="* http://dev.twitter.com/doc/get/statuses/retweets/:id" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEETS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>method RETWEETS.
endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" VERSION="1" LANGU="D" DESCRIPT="http://dev.twitter.com/doc/get/statuses/show/:id" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" SCONAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD show.

  DATA: url  TYPE string
      , json TYPE string
      .

  CONCATENATE
    &apos;/statuses/show/&apos;
    id
    &apos;.json&apos;
  INTO url.

  json = oauth-&gt;fetchurl( url = url ).
  status = zcl_twa_status=&gt;newfromjson( json ).

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/post/statuses/update" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="TEXT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="LAT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="LONG" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="PLACE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="DISPLAY_COORDINATES" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="STATUS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100723" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD update.

  DATA: url             TYPE string
      , json            TYPE string
      , parameters      TYPE zoauth_key_value_t
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value.

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- OAuth parameters must be set before status parameters              ---*
  &quot;*--- (else &quot;Wrong signature&quot;, don&apos;t know why, no clear reason for that) ---*
  oauth-&gt;append_oauth_parameters( ).
  parameters = oauth-&gt;get_parameters( ).

  &quot;*--- status parameter ---*
  INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
  &lt;parameter&gt;-key = &apos;status&apos;.
  &lt;parameter&gt;-value = oauth-&gt;percent_encode( text ).

  IF in_reply_to_status_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;in_reply_to_status_id&apos;.
    &lt;parameter&gt;-value = in_reply_to_status_id.
  ENDIF.

  IF lat IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;lat&apos;.
    &lt;parameter&gt;-value = lat.
  ENDIF.

  IF long IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;long&apos;.
    &lt;parameter&gt;-value = long.
  ENDIF.

  IF place_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;place_id&apos;.
    &lt;parameter&gt;-value = place_id.
  ENDIF.

  IF display_coordinates IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;display_coordinates&apos;.
    &lt;parameter&gt;-value = display_coordinates.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/update.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( &apos;/statuses/update.json&apos; ).
  status = zcl_twa_status=&gt;newfromjson( json ).

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_TIMELINE_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Timeline Resources" UUID="0489484CE086190CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_TIMELINE_RES definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_TIMELINE_RES
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR .
  methods PUBLIC_TIMELINE
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods HOME_TIMELINE
    importing
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods FRIENDS_TIMELINE
    importing
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods USER_TIMELINE
    importing
      !SCREEN_NAME type STRING optional
      !USER_ID type STRING optional
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods MENTIONS
    importing
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods RETWEETED_BY_ME
    importing
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods RETWEETED_TO_ME
    importing
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .
  methods RETWEETED_OF_ME
    importing
      !COUNT type STRING optional
      !PAGE type STRING optional
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
    returning
      value(STATUSES) type ZCL_TWA_STATUS_T
    raising
      ZCX_OAUTH_ERROR .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_TIMELINE_RES
*&quot;* do not include other source files here!!!
private section.

  data OAUTH type ref to ZCL_OAUTH .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="OAUTH" VERSION="1" LANGU="D" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="A! = auth required" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

  me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/friends_timeline" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD friends_timeline.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/friends_timeline.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/friends_timeline.json&apos; ).

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/home_timeline" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD home_timeline.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/home_timeline.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/home_timeline.json&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/mentions" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100806" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD mentions.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/mentions.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/mentions.json&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="PUBLIC_TIMELINE" VERSION="1" LANGU="D" DESCRIPT="http://dev.twitter.com/doc/get/statuses/public_timeline" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="PUBLIC_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="PUBLIC_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD public_timeline.

  DATA: url        TYPE string
      , json       TYPE string
      , json_doc   TYPE REF TO zcl_json_document
      .

  FIELD-SYMBOLS: &lt;status&gt; TYPE REF TO zcl_twa_status.

  url = &apos;/statuses/public_timeline.json&apos;.

  json = oauth-&gt;fetchurl( url = url method = &apos;GET&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/retweeted_by_me" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD retweeted_by_me.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/retweeted_by_me.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/retweeted_by_me.json&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/retweeted_of_me" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD retweeted_of_me.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/retweeted_of_me.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/retweeted_of_me.json&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" VERSION="1" LANGU="D" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/retweeted_to_me" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD retweeted_to_me.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/retweeted_to_me.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/retweeted_to_me.json&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" VERSION="1" LANGU="D" DESCRIPT="(A!) http://dev.twitter.com/doc/get/statuses/user_timeline" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="USER_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="COUNT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100806" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD user_timeline.

  DATA: parameters      TYPE zoauth_key_value_t
      , url             TYPE string
      , json            TYPE string
      , json_doc        TYPE REF TO zcl_json_document
      , token_secret    TYPE string
      , consumer_secret TYPE string
      , secret          TYPE string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
               , &lt;status&gt;    TYPE REF TO zcl_twa_status
               .

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL
  AND screen_name IS INITIAL
  AND user_id IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- optional parameters ---*
  IF screen_name IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;screen_name&apos;.                        &quot;#EC NOTEXT
    &lt;parameter&gt;-value = screen_name.
  ENDIF.

  IF user_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;user_id&apos;.                            &quot;#EC NOTEXT
    &lt;parameter&gt;-value = user_id.
  ENDIF.

  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).

  IF oauth-&gt;is_authorized( ) IS NOT INITIAL.

    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).
  ENDIF.

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    &apos;/statuses/user_timeline.json&apos;
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  IF oauth-&gt;is_authorized( ) IS NOT INITIAL.
    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).
  ENDIF.

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = &apos;/statuses/user_timeline.json&apos; ).
  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
    &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" UUID="7FE6464C63E4400CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDON="00000000" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_STATUS definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_STATUS
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR
    importing
      !COORDINATES type STRING optional
      !TRUNCATED type STRING optional
      !CONTRIBUTORS type STRING optional
      !SOURCE type STRING optional
      !CREATED_AT type STRING optional
      !GEO type STRING optional
      !IN_REPLY_TO_SCREEN_NAME type STRING optional
      !FAVORITED type STRING optional
      !IN_REPLY_TO_STATUS_ID type STRING optional
      !PLACE type STRING optional
      !ID type STRING optional
      !IN_REPLY_TO_USER_ID type STRING optional
      !TEXT type STRING optional
      !USER type ref to ZCL_TWA_USER optional .
  class-methods NEWFROMJSON
    importing
      !JSON type STRING
    returning
      value(STATUS) type ref to ZCL_TWA_STATUS .
  methods GETCOORDINATES
    returning
      value(COORDINATES) type STRING .
  methods SETCOORDINATES
    importing
      !COORDINATES type STRING .
  methods GETTRUNCATED
    returning
      value(TRUNCATED) type STRING .
  methods SETTRUNCATED
    importing
      !TRUNCATED type STRING .
  methods GETCONTRIBUTORS
    returning
      value(CONTRIBUTORS) type STRING .
  methods SETCONTRIBUTORS
    importing
      !CONTRIBUTORS type STRING .
  methods GETSOURCE
    returning
      value(SOURCE) type STRING .
  methods SETSOURCE
    importing
      !SOURCE type STRING .
  methods GETCREATEDAT
    returning
      value(CREATED_AT) type STRING .
  methods SETCREATEDAT
    importing
      !CREATED_AT type STRING .
  methods GETGEO
    returning
      value(GEO) type STRING .
  methods SETGEO
    importing
      !GEO type STRING .
  methods GETINREPLYTOSCREENNAME
    returning
      value(IN_REPLY_TO_SCREEN_NAME) type STRING .
  methods SETINREPLYTOSCREENNAME
    importing
      !IN_REPLY_TO_SCREEN_NAME type STRING .
  methods GETFAVORITED
    returning
      value(FAVORITED) type STRING .
  methods SETFAVORITED
    importing
      !FAVORITED type STRING .
  methods GETINREPLYTOSTATUSID
    returning
      value(IN_REPLY_TO_STATUS_ID) type STRING .
  methods SETINREPLYTOSTATUSID
    importing
      !IN_REPLY_TO_STATUS_ID type STRING .
  methods GETPLACE
    returning
      value(PLACE) type STRING .
  methods SETPLACE
    importing
      !PLACE type STRING .
  methods GETID
    returning
      value(ID) type STRING .
  methods SETID
    importing
      !ID type STRING .
  methods GETINREPLYTOUSERID
    returning
      value(IN_REPLY_TO_USER_ID) type STRING .
  methods SETINREPLYTOUSERID
    importing
      !IN_REPLY_TO_USER_ID type STRING .
  methods GETTEXT
    returning
      value(TEXT) type STRING .
  methods SETTEXT
    importing
      !TEXT type STRING .
  methods GETUSER
    returning
      value(USER) type ref to ZCL_TWA_USER .
  methods SETUSER
    importing
      !USER type ref to ZCL_TWA_USER .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_STATUS
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_STATUS
*&quot;* do not include other source files here!!!
private section.

  data COORDINATES type STRING .
  data TRUNCATED type STRING .
  data CONTRIBUTORS type STRING .
  data SOURCE type STRING .
  data CREATED_AT type STRING .
  data GEO type STRING .
  data IN_REPLY_TO_SCREEN_NAME type STRING .
  data FAVORITED type STRING .
  data IN_REPLY_TO_STATUS_ID type STRING .
  data PLACE type STRING .
  data ID type STRING .
  data IN_REPLY_TO_USER_ID type STRING .
  data TEXT type STRING .
  data USER type ref to ZCL_TWA_USER .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONTRIBUTORS" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="3 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="COORDINATES" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="CREATED_AT" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="5 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="FAVORITED" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="8 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="GEO" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="6 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="ID" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="11 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="7 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="9 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="12 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="PLACE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="10 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="SOURCE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="4 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="TEXT" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="13 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="TRUNCATED" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="2 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="USER" VERSION="1" LANGU="D" DESCRIPT="Twitter User" EXPOSURE="0" STATE="1" EDITORDER="14 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="COORDINATES" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="TRUNCATED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="CONTRIBUTORS" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="SOURCE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="CREATED_AT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="GEO" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="FAVORITED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="PLACE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="11 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="12 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="TEXT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="13 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="USER" VERSION="1" LANGU="D" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="2" EDITORDER="14 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER" PAROPTIONL="X"/>
   <source>METHOD constructor.

  me-&gt;coordinates = coordinates.
  me-&gt;truncated = truncated.
  me-&gt;contributors = contributors.
  me-&gt;source = source.
  me-&gt;created_at = created_at.
  me-&gt;geo = geo.
  me-&gt;in_reply_to_screen_name = in_reply_to_screen_name.
  me-&gt;favorited = favorited.
  me-&gt;in_reply_to_status_id = in_reply_to_status_id.
  me-&gt;place = place.
  me-&gt;id = id.
  me-&gt;in_reply_to_user_id = in_reply_to_user_id.
  me-&gt;text = text.
  me-&gt;user = user.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="31 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCONTRIBUTORS" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCONTRIBUTORS" SCONAME="CONTRIBUTORS" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETCONTRIBUTORS.

  contributors = me-&gt;contributors.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCOORDINATES" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCOORDINATES" SCONAME="COORDINATES" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcoordinates.

  coordinates = me-&gt;coordinates.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCREATEDAT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETCREATEDAT.

  created_at = me-&gt;created_at.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETFAVORITED" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETFAVORITED" SCONAME="FAVORITED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETFAVORITED.

  favorited = me-&gt;favorited.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETGEO" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETGEO" SCONAME="GEO" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETGEO.

  geo = me-&gt;geo.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="23 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETID" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETID.

  id = me-&gt;id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSCREENNAME" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSCREENNAME" SCONAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETINREPLYTOSCREENNAME.

  in_reply_to_screen_name = me-&gt;in_reply_to_screen_name.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSTATUSID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSTATUSID" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETINREPLYTOSTATUSID.

  in_reply_to_status_id = me-&gt;in_reply_to_status_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOUSERID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="25 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOUSERID" SCONAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETINREPLYTOUSERID.

  in_reply_to_user_id = me-&gt;in_reply_to_user_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETPLACE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="21 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETPLACE" SCONAME="PLACE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETPLACE.

  place = me-&gt;place.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETSOURCE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETSOURCE" SCONAME="SOURCE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETSOURCE.

  source = me-&gt;source.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTEXT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="27 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTEXT" SCONAME="TEXT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETTEXT.

  text = me-&gt;text.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTRUNCATED" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTRUNCATED" SCONAME="TRUNCATED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETTRUNCATED.

  truncated = me-&gt;truncated.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETUSER" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="29 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETUSER" SCONAME="USER" VERSION="1" LANGU="D" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD GETUSER.

  user = me-&gt;user.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100813" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" DESCRIPT="JSON string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100813" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="NEWFROMJSON" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100813" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <source>METHOD newfromjson.

  DATA: json_doc                TYPE REF TO zcl_json_document
      , coordinates             TYPE string
      , truncated               TYPE string
      , contributors            TYPE string
      , source                  TYPE string
      , created_at              TYPE string
      , geo                     TYPE string
      , in_reply_to_screen_name TYPE string
      , favorited               TYPE string
      , in_reply_to_status_id   TYPE string
      , place                   TYPE string
      , id                      TYPE string
      , in_reply_to_user_id     TYPE string
      , text                    TYPE string
      , user                    TYPE REF TO zcl_twa_user
      , user_json               TYPE string
      .

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  coordinates             = json_doc-&gt;get_value( &apos;coordinates&apos; ).
  truncated               = json_doc-&gt;get_value( &apos;truncated&apos; ).
  contributors            = json_doc-&gt;get_value( &apos;contributors&apos; ).
  source                  = json_doc-&gt;get_value( &apos;source&apos; ).
  created_at              = json_doc-&gt;get_value( &apos;created_at&apos; ).
  geo                     = json_doc-&gt;get_value( &apos;geo&apos; ).
  in_reply_to_screen_name = json_doc-&gt;get_value( &apos;in_reply_to_screen_name&apos; ).
  favorited               = json_doc-&gt;get_value( &apos;favorited&apos; ).
  in_reply_to_status_id   = json_doc-&gt;get_value( &apos;in_reply_to_status_id&apos; ).
  place                   = json_doc-&gt;get_value( &apos;place&apos; ).
  id                      = json_doc-&gt;get_value( &apos;id&apos; ).
  in_reply_to_user_id     = json_doc-&gt;get_value( &apos;in_reply_to_user_id&apos; ).
  text                    = json_doc-&gt;get_value( &apos;text&apos; ).

  &quot;*--- create user object ---*
  user_json = json_doc-&gt;get_value( &apos;user&apos; ).

  IF user_json IS NOT INITIAL.
    user = zcl_twa_user=&gt;newfromjson( user_json ).
  ENDIF.

  CREATE OBJECT status
    EXPORTING
      coordinates             = coordinates
      truncated               = truncated
      contributors            = contributors
      source                  = source
      created_at              = created_at
      geo                     = geo
      in_reply_to_screen_name = in_reply_to_screen_name
      favorited               = favorited
      in_reply_to_status_id   = in_reply_to_status_id
      place                   = place
      id                      = id
      in_reply_to_user_id     = in_reply_to_user_id
      text                    = text
      user                    = user.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCONTRIBUTORS" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCONTRIBUTORS" SCONAME="CONTRIBUTORS" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETCONTRIBUTORS.

  me-&gt;contributors = contributors.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCOORDINATES" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCOORDINATES" SCONAME="COORDINATES" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setcoordinates.

  me-&gt;coordinates = coordinates.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCREATEDAT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETCREATEDAT.

  me-&gt;created_at = created_at.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETFAVORITED" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETFAVORITED" SCONAME="FAVORITED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETFAVORITED.

  me-&gt;favorited = favorited.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETGEO" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETGEO" SCONAME="GEO" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETGEO.

  me-&gt;geo = geo.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="24 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETID" SCONAME="ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETID.

  me-&gt;id = id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSCREENNAME" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSCREENNAME" SCONAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETINREPLYTOSCREENNAME.

  me-&gt;in_reply_to_screen_name = in_reply_to_screen_name.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSTATUSID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSTATUSID" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETINREPLYTOSTATUSID.

  me-&gt;in_reply_to_status_id = in_reply_to_status_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOUSERID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="26 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOUSERID" SCONAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETINREPLYTOUSERID.

  me-&gt;in_reply_to_user_id = in_reply_to_user_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETPLACE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="22 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETPLACE" SCONAME="PLACE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETPLACE.

  me-&gt;place = place.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETSOURCE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETSOURCE" SCONAME="SOURCE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETSOURCE.

  me-&gt;source = source.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTEXT" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="28 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTEXT" SCONAME="TEXT" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETTEXT.

  me-&gt;text = text.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTRUNCATED" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100722" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTRUNCATED" SCONAME="TRUNCATED" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETTRUNCATED.

  me-&gt;truncated = truncated.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETUSER" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="30 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETUSER" SCONAME="USER" VERSION="1" LANGU="D" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD setuser.

  me-&gt;user = user.

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_SEARCH_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Search Resources" UUID="D132504C24203D0CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_SEARCH_RES definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_SEARCH_RES
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR .
  methods SEARCH
    importing
      !Q type STRING optional
      !LANG type STRING optional
      !RPP type I optional
      !PAGE type I optional
      !NEXT_PAGE type STRING optional
    returning
      value(RESULT) type ref to ZCL_TWA_SEARCH
    raising
      ZCX_OAUTH_ERROR .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_SEARCH_RES
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_SEARCH_RES
*&quot;* do not include other source files here!!!
private section.

  data OAUTH type ref to ZCL_OAUTH .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="OAUTH" VERSION="1" LANGU="D" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100807" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

  me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" VERSION="1" LANGU="D" DESCRIPT="http://dev.twitter.com/doc/get/search" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="Q" VERSION="1" LANGU="D" DESCRIPT="Query string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="LANG" VERSION="1" LANGU="D" DESCRIPT="Language" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="RPP" VERSION="1" LANGU="D" DESCRIPT="Tweets per page (max. 100)" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="PAGE" VERSION="1" LANGU="D" DESCRIPT="Page" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="NEXT_PAGE" VERSION="1" LANGU="D" DESCRIPT="Query for next page" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="RESULT" VERSION="1" LANGU="D" DESCRIPT="Twitter Search result" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_SEARCH"/>
   <exception CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD search.

  DATA: json       TYPE string
      , parameters TYPE zoauth_key_value_t
      , np         TYPE string
      , np_t       TYPE TABLE OF string
      .

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE LINE OF zoauth_key_value_t
               , &lt;np&gt;        TYPE string
               .

  IF next_page IS NOT INITIAL.

    &quot;something like &apos;?page=2&amp;max_id=1480307926&amp;q=%40twitterapi&apos;
    np = next_page.
    SHIFT np LEFT DELETING LEADING &apos;?&apos;.
    SPLIT np AT &apos;&amp;&apos; INTO TABLE np_t.

    LOOP AT np_t
      ASSIGNING &lt;np&gt;.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      SPLIT &lt;np&gt; AT &apos;=&apos; INTO &lt;parameter&gt;-key &lt;parameter&gt;-value.
    ENDLOOP.

  ELSE.

    &quot;*--- create parameters ---*
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;q&apos;.
    &lt;parameter&gt;-value = oauth-&gt;percent_encode( q ).

    &quot;*--- language ---*
    IF lang IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;lang&apos;.
      &lt;parameter&gt;-value = lang.
    ENDIF.

    &quot;*--- tweets per page ---*
    IF rpp IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;rpp&apos;.
      &lt;parameter&gt;-value = rpp.
      CONDENSE &lt;parameter&gt;-value NO-GAPS.
    ENDIF.

    &quot;*--- page ---*
    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.
      &lt;parameter&gt;-value = page.
      CONDENSE &lt;parameter&gt;-value NO-GAPS.
    ENDIF.

  ENDIF.

  oauth-&gt;set_parameters( parameters ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl(
    host   = &apos;search.twitter.com&apos;
    url    = &apos;/search.json&apos;
    ).

  result = zcl_twa_search=&gt;newfromjson( json ).

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_SEARCH" VERSION="1" LANGU="E" DESCRIPT="Twitter Search result" UUID="6222504C38203E0CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_SEARCH definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_SEARCH
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR
    importing
      !MAX_ID type STRING optional
      !SINCE_ID type STRING optional
      !REFRESH_URL type STRING optional
      !NEXT_PAGE type STRING optional
      !RESULTS_PER_PAGE type I optional
      !PAGE type I optional
      !COMPLETED_IN type STRING optional
      !QUERY type STRING optional
      !RESULTS type ZCL_TWA_STATUS_T optional .
  class-methods NEWFROMJSON
    importing
      !JSON type STRING
    returning
      value(SEARCH) type ref to ZCL_TWA_SEARCH .
  methods GETMAXID
    returning
      value(MAX_ID) type STRING .
  methods GETSINCEID
    returning
      value(SINCE_ID) type STRING .
  methods GETREFRESHURL
    returning
      value(REFRESH_URL) type STRING .
  methods GETRESULTSPERPAGE
    returning
      value(RESULTS_PER_PAGE) type I .
  methods GETPAGE
    returning
      value(PAGE) type I .
  methods GETCOMPLETEDIN
    returning
      value(COMPLETED_IN) type STRING .
  methods GETQUERY
    returning
      value(QUERY) type STRING .
  methods GETRESULTS
    returning
      value(RESULTS) type ZCL_TWA_STATUS_T .
  methods SETMAXID
    importing
      !MAX_ID type STRING .
  methods SETSINCEID
    importing
      !SINCE_ID type STRING .
  methods SETREFRESHURL
    importing
      !REFRESH_URL type STRING .
  methods SETRESULTSPERPAGE
    importing
      !RESULTS_PER_PAGE type I .
  methods SETPAGE
    importing
      !PAGE type I .
  methods SETCOMPLETEDIN
    importing
      !COMPLETED_IN type STRING .
  methods SETQUERY
    importing
      !QUERY type STRING .
  methods SETRESULTS
    importing
      !RESULTS type ZCL_TWA_STATUS_T .
  methods SETNEXTPAGE
    importing
      !NEXT_PAGE type STRING .
  methods GETNEXTPAGE
    returning
      value(NEXT_PAGE) type STRING .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_SEARCH
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_SEARCH
*&quot;* do not include other source files here!!!
private section.

  data MAX_ID type STRING .
  data SINCE_ID type STRING .
  data REFRESH_URL type STRING .
  data NEXT_PAGE type STRING .
  data RESULTS_PER_PAGE type I .
  data PAGE type I .
  data COMPLETED_IN type STRING .
  data QUERY type STRING .
  data RESULTS type ZCL_TWA_STATUS_T .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="COMPLETED_IN" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="7 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="MAX_ID" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEXT_PAGE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="4 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="PAGE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="6 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="QUERY" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="8 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="REFRESH_URL" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="3 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="RESULTS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" EXPOSURE="0" STATE="1" EDITORDER="9 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="RESULTS_PER_PAGE" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="5 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SINCE_ID" VERSION="1" LANGU="D" EXPOSURE="0" STATE="1" EDITORDER="2 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="REFRESH_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="NEXT_PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="RESULTS_PER_PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="COMPLETED_IN" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="QUERY" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="RESULTS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T" PAROPTIONL="X"/>
   <source>METHOD constructor.

  me-&gt;max_id = max_id.
  me-&gt;since_id = since_id.
  me-&gt;refresh_url = refresh_url.
  me-&gt;next_page = next_page.
  me-&gt;results_per_page = results_per_page.
  me-&gt;page = page.
  me-&gt;completed_in = completed_in.
  me-&gt;query = query.
  me-&gt;results = results.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="21 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETCOMPLETEDIN" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETCOMPLETEDIN" SCONAME="COMPLETED_IN" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcompletedin.

  completed_in = me-&gt;completed_in.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETMAXID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETMAXID" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getmaxid.

  max_id = me-&gt;max_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETNEXTPAGE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETNEXTPAGE" SCONAME="NEXT_PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD GETNEXTPAGE.

  next_page = me-&gt;next_page.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETPAGE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETPAGE" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getpage.

  page = me-&gt;page.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETQUERY" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETQUERY" SCONAME="QUERY" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getquery.

  query = me-&gt;query.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETREFRESHURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETREFRESHURL" SCONAME="REFRESH_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getrefreshurl.

  refresh_url = me-&gt;refresh_url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTS" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTS" SCONAME="RESULTS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <source>METHOD getresults.

  results = me-&gt;results.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTSPERPAGE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTSPERPAGE" SCONAME="RESULTS_PER_PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getresultsperpage.

  results_per_page = me-&gt;results_per_page.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETSINCEID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETSINCEID" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getsinceid.

  since_id = me-&gt;since_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100816" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" DESCRIPT="JSON string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100816" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEWFROMJSON" SCONAME="SEARCH" VERSION="1" LANGU="E" DESCRIPT="Twitter Search result" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100816" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_SEARCH"/>
   <source>METHOD newfromjson.

  DATA: json_doc         TYPE REF TO zcl_json_document
      , max_id           TYPE string
      , since_id         TYPE string
      , refresh_url      TYPE string
      , next_page        TYPE string
      , results_per_page TYPE i
      , page             TYPE i
      , completed_in     TYPE string
      , query            TYPE string
      , results          TYPE zcl_twa_status_t
      , result_json      TYPE string
      , status_json      TYPE string
      .

  FIELD-SYMBOLS: &lt;status&gt; TYPE REF TO zcl_twa_status.

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  max_id           = json_doc-&gt;get_value( &apos;max_id&apos; ).
  since_id         = json_doc-&gt;get_value( &apos;since_id&apos; ).
  refresh_url      = json_doc-&gt;get_value( &apos;refresh_url&apos; ).
  results_per_page = json_doc-&gt;get_value_int( &apos;results_per_page&apos; ).
  next_page        = json_doc-&gt;get_value( &apos;next_page&apos; ).
  page             = json_doc-&gt;get_value_int( &apos;page&apos; ).
  completed_in     = json_doc-&gt;get_value( &apos;completed_in&apos; ).
  query            = json_doc-&gt;get_value( &apos;query&apos; ).

  &quot;*--- create status objects ---*
  result_json = json_doc-&gt;get_value( &apos;results&apos; ).

  IF result_json IS NOT INITIAL.
    json_doc-&gt;set_json( result_json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      status_json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE results ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( status_json ).

    ENDWHILE.
  ENDIF.

  CREATE OBJECT search
    EXPORTING
      max_id           = max_id
      since_id         = since_id
      refresh_url      = refresh_url
      next_page        = next_page
      results_per_page = results_per_page
      page             = page
      completed_in     = completed_in
      query            = query
      results          = results.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETCOMPLETEDIN" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETCOMPLETEDIN" SCONAME="COMPLETED_IN" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETCOMPLETEDIN.

  me-&gt;completed_in = completed_in.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETMAXID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETMAXID" SCONAME="MAX_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETMAXID.

  me-&gt;max_id = max_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETNEXTPAGE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETNEXTPAGE" SCONAME="NEXT_PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETNEXTPAGE.

  me-&gt;next_page = next_page.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETPAGE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETPAGE" SCONAME="PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETPAGE.

  me-&gt;page = page.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETQUERY" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETQUERY" SCONAME="QUERY" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD SETQUERY.

  me-&gt;query = query.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETREFRESHURL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETREFRESHURL" SCONAME="REFRESH_URL" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setrefreshurl.

  me-&gt;refresh_url = refresh_url.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTS" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTS" SCONAME="RESULTS" VERSION="1" LANGU="D" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <source>METHOD SETRESULTS.

  me-&gt;results = results.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTSPERPAGE" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTSPERPAGE" SCONAME="RESULTS_PER_PAGE" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD SETRESULTSPERPAGE.

  me-&gt;results_per_page = results_per_page.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETSINCEID" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETSINCEID" SCONAME="SINCE_ID" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setsinceid.

  me-&gt;since_id = since_id.

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_DM_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Direct Messages" UUID="BC4CC94C014B360CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_DM_RES definition
  public
  final
  create public .

*&quot;* public components of class ZCL_TWA_DM_RES
*&quot;* do not include other source files here!!!
public section.

  methods CONSTRUCTOR .
  methods DIRECT_MESSAGES
    importing
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
      !COUNT type STRING optional
      !PAGE type STRING optional
      !INCLUDE_ENTITIES type STRING optional
    returning
      value(DMS) type ZCL_TWA_DM_T
    raising
      ZCX_OAUTH_ERROR .
  methods SENT
    importing
      !SINCE_ID type STRING optional
      !MAX_ID type STRING optional
      !COUNT type STRING optional
      !PAGE type STRING optional
      !INCLUDE_ENTITIES type STRING optional
    returning
      value(DMS) type ZCL_TWA_DM_T
    raising
      ZCX_OAUTH_ERROR .
  methods NEW
    importing
      !SCREEN_NAME type STRING optional
      !USER_ID type STRING optional
      !TEXT type STRING
      !INCLUDE_ENTITIES type STRING optional
    returning
      value(DM) type ref to ZCL_TWA_DM
    raising
      ZCX_OAUTH_ERROR .
  methods DESTROY
    importing
      !ID type STRING
    raising
      ZCX_OAUTH_ERROR .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_DIRECT_MES
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_DIRECT_MES
*&quot;* do not include other source files here!!!
private section.

  data OAUTH type ref to ZCL_OAUTH .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_DM_RES" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="A! = Requires authentication" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>method CONSTRUCTOR.

  me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DESTROY" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/post/direct_messages/destroy/:" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DESTROY" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DESTROY" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000"/>
   <source>method DESTROY.

  DATA: url             TYPE string,
      appendix        TYPE string,
      json            TYPE string,
      parameters      TYPE zoauth_key_value_t,
      token_secret    TYPE string,
      consumer_secret TYPE string,
      secret          TYPE string.

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value.

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  CONCATENATE &apos;/direct_messages/destroy/&apos; id &apos;.json&apos; INTO appendix.

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    appendix
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( appendix ).

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/direct_messages" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="INCLUDE_ENTITIES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="DMS" VERSION="1" LANGU="E" DESCRIPT="Direct Message Table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_DM_T"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000"/>
   <source>METHOD direct_messages.

  DATA: parameters      TYPE zoauth_key_value_t,
        url             TYPE string,
        appendix        TYPE string,
        json            TYPE string,
        json_doc        TYPE REF TO zcl_json_document,
        token_secret    TYPE string,
        consumer_secret TYPE string,
        secret          TYPE string.

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value,
                 &lt;dm&gt;        TYPE REF TO zcl_twa_dm.

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  appendix = &apos;/direct_messages.json&apos;.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  IF include_entities IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;include_entities&apos;.                   &quot;#EC NOTEXT
    &lt;parameter&gt;-value = include_entities.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    appendix
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = appendix ).

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE dms ASSIGNING &lt;dm&gt;.
    &lt;dm&gt; = zcl_twa_dm=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/post/direct_messages/new" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="USER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="INCLUDE_ENTITIES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="DM" VERSION="1" LANGU="E" DESCRIPT="Direct Message Table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_DM"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000"/>
   <source>method NEW.

  DATA: url             TYPE string,
        appendix        TYPE string,
        json            TYPE string,
        parameters      TYPE zoauth_key_value_t,
        token_secret    TYPE string,
        consumer_secret TYPE string,
        secret          TYPE string.

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value.

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  &quot;*--- OAuth parameters must be set before status parameters              ---*
  &quot;*--- (else &quot;Wrong signature&quot;, don&apos;t know why, no clear reason for that) ---*
  oauth-&gt;append_oauth_parameters( ).
  parameters = oauth-&gt;get_parameters( ).

  &quot;*--- status parameter ---*
  INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
  &lt;parameter&gt;-key = &apos;text&apos;.
  &lt;parameter&gt;-value = oauth-&gt;percent_encode( text ).

  IF screen_name IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
*    &lt;parameter&gt;-key = &apos;screen_name&apos;.  &quot;&lt;- we get an &apos;Incorrect signature&apos; error
    &lt;parameter&gt;-key = &apos;user&apos;.          &quot;&lt;- but not with &apos;user&apos; (??)
    &lt;parameter&gt;-value = screen_name.
  ENDIF.

  IF user_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;user_id&apos;.
    &lt;parameter&gt;-value = user_id.
  ENDIF.

  IF include_entities IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;include_entities&apos;.
    &lt;parameter&gt;-value = include_entities.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  appendix = &apos;/direct_messages/new.json&apos;.

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    appendix
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( appendix ).
  dm = zcl_twa_dm=&gt;newfromjson( json ).

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/direct_messages/sent" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="INCLUDE_ENTITIES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="DMS" VERSION="1" LANGU="E" DESCRIPT="Direct Message Table" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_DM_T"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000"/>
   <source>METHOD sent.

  DATA: parameters      TYPE zoauth_key_value_t,
        url             TYPE string,
        appendix        TYPE string,
        json            TYPE string,
        json_doc        TYPE REF TO zcl_json_document,
        token_secret    TYPE string,
        consumer_secret TYPE string,
        secret          TYPE string.

  FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value,
                 &lt;dm&gt;        TYPE REF TO zcl_twa_dm.

  &quot;*--- method needs authorization ---*
  IF oauth-&gt;is_authorized( ) IS INITIAL.
    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid = zcx_oauth_error=&gt;authorization_required.
  ENDIF.

  appendix = &apos;/direct_messages/sent.json&apos;.

  &quot;*--- optional parameters ---*
  IF count IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;count&apos;.                              &quot;#EC NOTEXT
    &lt;parameter&gt;-value = count.
  ENDIF.

  IF page IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;page&apos;.                               &quot;#EC NOTEXT
    &lt;parameter&gt;-value = page.
  ENDIF.

  IF since_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;since_id&apos;.                           &quot;#EC NOTEXT
    &lt;parameter&gt;-value = since_id.
  ENDIF.

  IF max_id IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;max_id&apos;.                             &quot;#EC NOTEXT
    &lt;parameter&gt;-value = max_id.
  ENDIF.

  IF include_entities IS NOT INITIAL.
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;include_entities&apos;.                   &quot;#EC NOTEXT
    &lt;parameter&gt;-value = include_entities.
  ENDIF.

  oauth-&gt;set_parameters( parameters ).
  oauth-&gt;append_oauth_parameters( ).

  &quot;*--- create new secret ---*
  consumer_secret = oauth-&gt;get_consumer_secret( ).
  token_secret    = oauth-&gt;get_oauth_token_secret( ).

  CONCATENATE
    consumer_secret
    token_secret
  INTO secret.

  oauth-&gt;set_oauth_secret( secret ).

  &quot;*--- set url ---*
  CONCATENATE
    zcl_twa_api=&gt;api_protocol
    zcl_twa_api=&gt;api_host
    appendix
  INTO url.

  oauth-&gt;set_oauth_url( url ).

  &quot;*--- sign message ---*
  oauth-&gt;sign_message( &apos;GET&apos; ).

  &quot;*--- send request ---*
  json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = appendix ).

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

    json = json_doc-&gt;get_json( ).

    INSERT INITIAL LINE INTO TABLE dms ASSIGNING &lt;dm&gt;.
    &lt;dm&gt; = zcl_twa_dm=&gt;newfromjson( json ).

  ENDWHILE.

ENDMETHOD.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_DM" VERSION="1" LANGU="E" DESCRIPT="Twitter Direct Message" UUID="9D4CC94C014B360CE1000000C0A8263A" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" AUTHOR="ROELB" CREATEDON="20101027" CHANGEDON="00000000" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_DM  DEFINITIO
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_dm DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_DM
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor
      IMPORTING
        !created_at TYPE string OPTIONAL
        !sender_screen_name TYPE string OPTIONAL
        !sender TYPE REF TO zcl_twa_user OPTIONAL
        !text TYPE string OPTIONAL
        !recipient_screen_name TYPE string OPTIONAL
        !id TYPE string OPTIONAL
        !recipient TYPE REF TO zcl_twa_user OPTIONAL
        !recipient_id TYPE string OPTIONAL
        !sender_id TYPE string OPTIONAL .
    CLASS-METHODS newfromjson
      IMPORTING
        !json TYPE string
      RETURNING
        value(dm) TYPE REF TO zcl_twa_dm .
    METHODS getcreatedat
      RETURNING
        value(created_at) TYPE string.
    METHODS setcreatedat
    IMPORTING
      !created_at TYPE string .
    METHODS getsenderscreenname
  RETURNING
    value(sender_screen_name) TYPE string.
    METHODS setsenderscreenname
    IMPORTING
      !sender_screen_name TYPE string .
    METHODS getsender
  RETURNING
    value(sender) TYPE REF TO zcl_twa_user.
    METHODS setsender
    IMPORTING
      !sender TYPE REF TO zcl_twa_user.
    METHODS gettext
  RETURNING
    value(text) TYPE string.
    METHODS settext
    IMPORTING
      !text TYPE string .
    METHODS getrecipientscreenname
  RETURNING
    value(recipient_screen_name) TYPE string.
    METHODS setrecipientscreenname
    IMPORTING
      !recipient_screen_name TYPE string .
    METHODS getid
  RETURNING
    value(id) TYPE string.
    METHODS setid
    IMPORTING
      !id TYPE string .
    METHODS getrecipient
  RETURNING
    value(recipient) TYPE REF TO zcl_twa_user.
    METHODS setrecipient
    IMPORTING
      !recipient TYPE REF TO zcl_twa_user.
    METHODS getrecipientid
  RETURNING
    value(recipient_id) TYPE string.
    METHODS setrecipientid
    IMPORTING
      !recipient_id TYPE string .
    METHODS getsenderid
  RETURNING
    value(sender_id) TYPE string.
    METHODS setsenderid
    IMPORTING
      !sender_id TYPE string .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_DM
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_DM
*&quot;* do not include other source files here!!!
private section.

  data CREATED_AT type STRING .
  data SENDER_SCREEN_NAME type STRING .
  data SENDER type ref to ZCL_TWA_USER .
  data TEXT type STRING .
  data RECIPIENT_SCREEN_NAME type STRING .
  data ID type STRING .
  data RECIPIENT type ref to ZCL_TWA_USER .
  data RECIPIENT_ID type STRING .
  data SENDER_ID type STRING .

  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="CREATED_AT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="RECIPIENT" VERSION="1" LANGU="E" DESCRIPT="Twitter User" EXPOSURE="0" STATE="1" EDITORDER="7 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="RECIPIENT_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="SENDER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" EXPOSURE="0" STATE="1" EDITORDER="3 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="SENDER_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="TEXT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="2" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="SENDER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="RECIPIENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="RECIPIENT_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="SENDER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <source>method CONSTRUCTOR.

  me-&gt;created_at            = created_at.
  me-&gt;sender_screen_name    = sender_screen_name.
  me-&gt;sender                = sender.
  me-&gt;text                  = text.
  me-&gt;recipient_screen_name = recipient_screen_name.
  me-&gt;id                    = id.
  me-&gt;recipient             = recipient.
  me-&gt;recipient_id          = recipient_id.
  me-&gt;sender_id             = sender_id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="21 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>method COPYRIGHT.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETCREATEDAT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETCREATEDAT.

  created_at = me-&gt;created_at.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETID.

  id = me-&gt;id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENT" SCONAME="RECIPIENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>method GETRECIPIENT.

  recipient = me-&gt;recipient.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTID" SCONAME="RECIPIENT_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETRECIPIENTID.

  recipient_id = me-&gt;recipient_id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTSCREENNAME" SCONAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETRECIPIENTSCREENNAME.

  recipient_screen_name = me-&gt;recipient_screen_name.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDER" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDER" SCONAME="SENDER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>method GETSENDER.

  sender = me-&gt;sender.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERID" SCONAME="SENDER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETSENDERID.

  sender_id = me-&gt;sender_id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERSCREENNAME" SCONAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETSENDERSCREENNAME.

  sender_screen_name = me-&gt;sender_screen_name.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETTEXT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETTEXT" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>method GETTEXT.

  text = me-&gt;text.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" DESCRIPT="JSON string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="NEWFROMJSON" SCONAME="DM" VERSION="1" LANGU="E" DESCRIPT="Twitter Direct Message" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_DM"/>
   <source>METHOD newfromjson.

  DATA: json_doc                TYPE REF TO zcl_json_document,
        created_at              TYPE string,
        sender_screen_name      TYPE string,
        sender                  TYPE REF TO zcl_twa_user,
        text                    TYPE string,
        recipient_screen_name   TYPE string,
        id                      TYPE string,
        recipient               TYPE REF TO zcl_twa_user,
        recipient_id            TYPE string,
        sender_id               TYPE string,
        sender_json             TYPE string,
        recipient_json          TYPE string.

  json_doc = zcl_json_document=&gt;create_with_json( json ).

  created_at            = json_doc-&gt;get_value( &apos;created_at&apos; ).
  sender_screen_name    = json_doc-&gt;get_value( &apos;sender_screen_name&apos; ).
  sender_json           = json_doc-&gt;get_value( &apos;sender&apos; ).
  text                  = json_doc-&gt;get_value( &apos;text&apos; ).
  recipient_screen_name = json_doc-&gt;get_value( &apos;recipient_screen_name&apos; ).
  id                    = json_doc-&gt;get_value( &apos;id&apos; ).
  recipient_json        = json_doc-&gt;get_value( &apos;recipient&apos; ).
  recipient_id          = json_doc-&gt;get_value( &apos;recipient_id&apos; ).
  sender_id             = json_doc-&gt;get_value( &apos;sender_id&apos; ).

  IF sender_json IS NOT INITIAL.
    sender = zcl_twa_user=&gt;newfromjson( sender_json ).
  ENDIF.

  IF recipient_json IS NOT INITIAL.
    recipient = zcl_twa_user=&gt;newfromjson( recipient_json ).
  ENDIF.

  CREATE OBJECT dm
    EXPORTING
      created_at            = created_at
      sender_screen_name    = sender_screen_name
      sender                = sender
      text                  = text
      recipient_screen_name = recipient_screen_name
      id                    = id
      recipient             = recipient
      recipient_id          = recipient_id
      sender_id             = sender_id.

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETCREATEDAT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETCREATEDAT.

  me-&gt;created_at = created_at.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETID.

  me-&gt;id = id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENT" SCONAME="RECIPIENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>method SETRECIPIENT.

  me-&gt;recipient = recipient.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTID" SCONAME="RECIPIENT_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETRECIPIENTID.

  me-&gt;recipient_id = recipient_id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTSCREENNAME" SCONAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETRECIPIENTSCREENNAME.

  me-&gt;recipient_screen_name = recipient_screen_name.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDER" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDER" SCONAME="SENDER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>method SETSENDER.

  me-&gt;sender = sender.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERID" SCONAME="SENDER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETSENDERID.

  me-&gt;sender_id = sender_id.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERSCREENNAME" SCONAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETSENDERSCREENNAME.

  me-&gt;sender_screen_name = sender_screen_name.

endmethod.</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETTEXT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="0" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETTEXT" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>method SETTEXT.

  me-&gt;text = text.

endmethod.</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_API" VERSION="1" LANGU="E" DESCRIPT="Twitter API" UUID="2AE6464C63E4400CE1000000C0A8263A" CATEGORY="00" EXPOSURE="0" STATE="1" RELEASE="0" AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100728" CHGDANYON="00000000" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" R3RELEASE="701" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>class ZCL_TWA_API definition
  public
  final
  create private .

*&quot;* public components of class ZCL_TWA_API
*&quot;* do not include other source files here!!!
public section.

  data USER_RES type ref to ZCL_TWA_USER_RES .
  data TIMELINE_RES type ref to ZCL_TWA_TIMELINE_RES .
  data TWEETS_RES type ref to ZCL_TWA_TWEETS_RES .
  data DM_RES type ref to ZCL_TWA_DM_RES .
  data SEARCH_RES type ref to ZCL_TWA_SEARCH_RES .
  constants API_PROTOCOL type STRING value &apos;http://&apos;. &quot;#EC NOTEXT
  constants API_HOST type STRING value &apos;api.twitter.com&apos;. &quot;#EC NOTEXT

  class-methods GETAPI
    importing
      !CONSUMER_NAME type ZOAUTH_CONSUMER_NAME optional
      !SCREEN_NAME type STRING optional
      !PASSWORD type STRING optional
    returning
      value(API) type ref to ZCL_TWA_API
    raising
      ZCX_OAUTH_ERROR .</publicSection>
  <protectedSection>*&quot;* protected components of class ZCL_TWA_API
*&quot;* do not include other source files here!!!
protected section.</protectedSection>
  <privateSection>*&quot;* private components of class ZCL_TWA_API
*&quot;* do not include other source files here!!!
private section.

  data OAUTH type ref to ZCL_OAUTH .

  methods CONSTRUCTOR
    importing
      !CONSUMER_NAME type ZOAUTH_CONSUMER_NAME optional
      !SCREEN_NAME type STRING optional
      !PASSWORD type STRING optional
    preferred parameter SCREEN_NAME
    raising
      ZCX_OAUTH_ERROR .
  class-methods COPYRIGHT .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="API_HOST" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="7 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20101028" ATTDECLTYP="2" ATTVALUE="&apos;api.twitter.com&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="API_PROTOCOL" VERSION="1" LANGU="D" EXPOSURE="2" STATE="1" EDITORDER="6 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20101028" ATTDECLTYP="2" ATTVALUE="&apos;http://&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="DM_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Direct Messages" EXPOSURE="2" STATE="1" EDITORDER="4 " AUTHOR="SE38_UWE" CREATEDON="20101028" CHANGEDON="00000000" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_DM_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="OAUTH" VERSION="1" LANGU="D" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " R3RELEASE="701" TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="SEARCH_RES" VERSION="1" LANGU="D" DESCRIPT="Twitter Search Resources" EXPOSURE="2" STATE="1" EDITORDER="5 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20101028" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_SEARCH_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="TIMELINE_RES" VERSION="1" LANGU="D" DESCRIPT="Twitter API Timeline Resources" EXPOSURE="2" STATE="1" EDITORDER="2 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100803" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_TIMELINE_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="TWEETS_RES" VERSION="1" LANGU="D" DESCRIPT="Twitter API Tweets resources" EXPOSURE="2" STATE="1" EDITORDER="3 " AUTHOR="SE38_UWE" CREATEDON="20100723" CHANGEDBY="SE38_UWE" CHANGEDON="20100803" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_TWEETS_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="USER_RES" VERSION="1" LANGU="D" DESCRIPT="Twitter API User Resources" EXPOSURE="2" STATE="1" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100722" CHANGEDBY="SE38_UWE" CHANGEDON="20100803" ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="D" DESCRIPT="CONSTRUCTOR" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100721" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="2" MTDDECLTYP="0" MTDNEWEXC="X" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="CONSUMER_NAME" VERSION="1" LANGU="E" DESCRIPT="OAuth: Consumer Name" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZOAUTH_CONSUMER_NAME" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="SCREEN_NAME" VERSION="1" LANGU="D" DESCRIPT="User Name" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X" PARPREFERD="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="PASSWORD" VERSION="1" LANGU="D" DESCRIPT="Password" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100805" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <exception CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="2" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD constructor.

  DATA: api_host TYPE string .

  &quot;*--- OAuth helper class ---*
  oauth = zcl_oauth=&gt;get_instance(
            consumer_name = consumer_name
            screen_name   = screen_name
            password      = password ).

  &quot;*--- set defaults if not set already by consumer name ---*
  api_host = oauth-&gt;get_api_host( ).
  IF api_host IS INITIAL.
    oauth-&gt;set_api_host( &apos;api.twitter.com&apos; ).
  ENDIF.

  &quot;*--- see http://dev.twitter.com/doc ---*
  CREATE OBJECT user_res.      &quot;User resources
  CREATE OBJECT timeline_res.  &quot;Timeline resources
  CREATE OBJECT tweets_res.    &quot;Tweets resources
  CREATE OBJECT dm_res.        &quot;Direct Messages resources
  CREATE OBJECT search_res.    &quot;Search resources

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" MTDTYPE="0" MTDDECLTYP="1" R3RELEASE="701" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

ENDMETHOD.</source>
  </method>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" VERSION="1" LANGU="D" DESCRIPT="gets the API" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100808" MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="CONSUMER_NAME" VERSION="1" LANGU="E" DESCRIPT="OAuth: Consumer Name" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZOAUTH_CONSUMER_NAME" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="SCREEN_NAME" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100801" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="PASSWORD" VERSION="1" LANGU="D" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100805" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="API" VERSION="1" LANGU="D" DESCRIPT="Twitter API" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " AUTHOR="SE38_UWE" CREATEDON="20100728" CHANGEDBY="SE38_UWE" CHANGEDON="20100820" PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_API"/>
   <exception CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 " AUTHOR="SE38_UWE" CREATEDON="20100820" CHANGEDON="00000000"/>
   <source>METHOD getapi.

  CREATE OBJECT api
    EXPORTING
      consumer_name = consumer_name
      screen_name   = screen_name
      password      = password.

ENDMETHOD.</source>
  </method>
 </CLAS>
 <PROG NAME="Z_TWA_DEMO" VARCL="X" SUBC="1" CNAM="SE38_UWE" CDAT="20100808" UNAM="SE38_UWE" UDAT="20101028" VERN="000014" RMAND="001" RLOAD="E" FIXPT="X" SDATE="20101028" STIME="121639" IDATE="20101028" ITIME="121616" UCCHECK="X">
  <textPool>
   <language SPRAS="E">
    <textElement ID="R" ENTRY="Twibap: Demo" LENGTH="12 "/>
   </language>
  </textPool>
  <source>*&amp;---------------------------------------------------------------------*
*&amp; Report  Z_TWA_DEMO
*&amp;
*&amp;---------------------------------------------------------------------*
*&amp;
*&amp;
*&amp;---------------------------------------------------------------------*

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API)
* Copyright (C) 2010 SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

REPORT  z_twa_demo.

DATA: twitter_api   TYPE REF TO zcl_twa_api
    , statuses      TYPE zcl_twa_status_t
    , text          TYPE string
    , id            TYPE string
    , user          TYPE REF TO zcl_twa_user
    , screen_name   TYPE string
    , twitter_error TYPE REF TO zcx_oauth_error
    , error_text    TYPE string
    .

FIELD-SYMBOLS: &lt;status&gt; TYPE REF TO zcl_twa_status.

TRY.
    twitter_api = zcl_twa_api=&gt;getapi( ).
    statuses = twitter_api-&gt;timeline_res-&gt;public_timeline( ).

  CATCH zcx_oauth_error INTO twitter_error.

    error_text = twitter_error-&gt;get_text( ).
    WRITE:/ error_text.
    RETURN.

ENDTRY.

LOOP AT statuses
  ASSIGNING &lt;status&gt;.

  text = &lt;status&gt;-&gt;gettext( ).
  id   = &lt;status&gt;-&gt;getid( ).
  user = &lt;status&gt;-&gt;getuser( ).
  screen_name = user-&gt;getscreenname( ).
  WRITE:/ id, screen_name, 25 text.

ENDLOOP.</source>
 </PROG>
 <TTYP TYPENAME="ZCL_TWA_DM_T" DDLANGUAGE="E" ROWTYPE="ZCL_TWA_DM" ROWKIND="R" DATATYPE="REF" LENG="000000" DECIMALS="000000" ACCESSMODE="T" KEYDEF="D" KEYKIND="N" KEYFDCOUNT="0000" AS4USER="SE38_UWE" AS4DATE="20101028" AS4TIME="121354" DDTEXT="Direct Message Table" TYPELEN="000008" CTLENG="000000" CTDECIMALS="000000" REFTYPE="C" OCCURS="00000"/>
 <TTYP TYPENAME="ZCL_TWA_STATUS_T" DDLANGUAGE="E" ROWTYPE="ZCL_TWA_STATUS" ROWKIND="R" DATATYPE="REF" LENG="000000" DECIMALS="000000" ACCESSMODE="T" KEYDEF="D" KEYKIND="N" KEYFDCOUNT="0000" AS4USER="SE38_UWE" AS4DATE="20100808" AS4TIME="222836" DDTEXT="Twitter Status table" TYPELEN="000008" CTLENG="000000" CTDECIMALS="000000" REFTYPE="C" OCCURS="00000"/>
 <TTYP TYPENAME="ZCL_TWA_USER_T" DDLANGUAGE="E" ROWTYPE="ZCL_TWA_USER" ROWKIND="R" DATATYPE="REF" LENG="000000" DECIMALS="000000" ACCESSMODE="T" KEYDEF="D" KEYKIND="N" KEYFDCOUNT="0000" AS4USER="SE38_UWE" AS4DATE="20100808" AS4TIME="222853" DDTEXT="Twitter User table" TYPELEN="000008" CTLENG="000000" CTDECIMALS="000000" REFTYPE="C" OCCURS="00000"/>
</nugget>
