<?xml version="1.0" encoding="utf-8"?>
<nugget name="TWIBAP-1.1.0">
 <CLAS CLSNAME="ZCL_TWA_API" VERSION="1" LANGU="E" DESCRIPT="Twitter API" UUID="000C293B231B1EE28D94D0C2EBC1D1ED" CATEGORY="00" EXPOSURE="0" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_API DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_api DEFINITION
  PUBLIC
  FINAL
  CREATE PRIVATE .

*&quot;* public components of class ZCL_TWA_API
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    DATA user_res TYPE REF TO zcl_twa_user_res .
    DATA timeline_res TYPE REF TO zcl_twa_timeline_res .
    DATA tweets_res TYPE REF TO zcl_twa_tweets_res .
    DATA dm_res TYPE REF TO zcl_twa_dm_res .
    DATA search_res TYPE REF TO zcl_twa_search_res .
    CONSTANTS api_protocol TYPE string VALUE &apos;http://&apos;.     &quot;#EC NOTEXT
    constants api_version type string value &apos;/1.1&apos;.
    CONSTANTS api_host TYPE string VALUE &apos;api.twitter.com&apos;. &quot;#EC NOTEXT

    CLASS-METHODS getapi
      IMPORTING
        !consumer_name TYPE zoauth_consumer_name OPTIONAL
        !screen_name TYPE string OPTIONAL
        !password TYPE string OPTIONAL
      RETURNING
        value(api) TYPE REF TO zcl_twa_api
      RAISING
        zcx_oauth_error .

    CLASS-METHODS get_version
        RETURNING value(version) TYPE string.

*&quot;* protected components of class ZCL_TWA_API
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_API
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    CONSTANTS co_version TYPE string VALUE &apos;1.1.0&apos;.
    DATA oauth TYPE REF TO zcl_oauth .

    METHODS constructor
      IMPORTING
        !consumer_name TYPE zoauth_consumer_name OPTIONAL
        !screen_name TYPE string OPTIONAL
        !password TYPE string OPTIONAL
      PREFERRED PARAMETER screen_name
      RAISING
        zcx_oauth_error .
    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="API_HOST" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="8 " ATTDECLTYP="2" ATTVALUE="&apos;api.twitter.com&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="API_PROTOCOL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="6 " ATTDECLTYP="2" ATTVALUE="&apos;http://&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="API_VERSION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="7 " ATTDECLTYP="2" ATTVALUE="&apos;/1.1&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="CO_VERSION" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="2" ATTVALUE="&apos;1.1.0&apos;" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="DM_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Direct Messages" EXPOSURE="2" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_DM_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="SEARCH_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter Search Resources" EXPOSURE="2" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_SEARCH_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="TIMELINE_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Timeline Resources" EXPOSURE="2" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_TIMELINE_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="TWEETS_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Tweets resources" EXPOSURE="2" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_TWEETS_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_API" CMPNAME="USER_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API User Resources" EXPOSURE="2" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER_RES" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="CONSUMER_NAME" VERSION="1" LANGU="E" DESCRIPT="OAuth: Consumer Name" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZOAUTH_CONSUMER_NAME" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" DESCRIPT="User Name" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X" PARPREFERD="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="PASSWORD" VERSION="1" LANGU="E" DESCRIPT="Password" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <exception CLSNAME="ZCL_TWA_API" CMPNAME="CONSTRUCTOR" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="2" EDITORDER="1 "/>
   <source>METHOD constructor.

    DATA: api_host TYPE string .

    &quot;*--- OAuth helper class ---*
    oauth = zcl_oauth=&gt;get_instance(
              consumer_name = consumer_name
              screen_name   = screen_name
              password      = password ).

    &quot;*--- set defaults if not set already by consumer name ---*
    api_host = oauth-&gt;get_api_host( ).
    IF api_host IS INITIAL.
      oauth-&gt;set_api_host( &apos;api.twitter.com&apos; ).
    ENDIF.

    &quot;*--- see http://dev.twitter.com/doc ---*
    CREATE OBJECT user_res.      &quot;User resources
    CREATE OBJECT timeline_res.  &quot;Timeline resources
    CREATE OBJECT tweets_res.    &quot;Tweets resources
    CREATE OBJECT dm_res.        &quot;Direct Messages resources
    CREATE OBJECT search_res.    &quot;Search resources

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" VERSION="1" LANGU="E" DESCRIPT="gets the API" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="CONSUMER_NAME" VERSION="1" LANGU="E" DESCRIPT="OAuth: Consumer Name" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZOAUTH_CONSUMER_NAME" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="PASSWORD" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="API" VERSION="1" LANGU="E" DESCRIPT="Twitter API" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_API"/>
   <exception CLSNAME="ZCL_TWA_API" CMPNAME="GETAPI" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD getapi.

    CREATE OBJECT api
      EXPORTING
        consumer_name = consumer_name
        screen_name   = screen_name
        password      = password.

  ENDMETHOD.                    &quot;GETAPI</source>
  </method>
  <method CLSNAME="ZCL_TWA_API" CMPNAME="GET_VERSION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_API" CMPNAME="GET_VERSION" SCONAME="VERSION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD get_version.

    version = co_version.

  ENDMETHOD.                    &quot;get_version</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_DM" VERSION="1" LANGU="E" DESCRIPT="Twitter Direct Message" UUID="000C293B231B1EE28D94CFFBD769D1ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_DM  DEFINITIO
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_dm DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_DM
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor
      IMPORTING
        !created_at TYPE string OPTIONAL
        !sender_screen_name TYPE string OPTIONAL
        !sender TYPE REF TO zcl_twa_user OPTIONAL
        !text TYPE string OPTIONAL
        !recipient_screen_name TYPE string OPTIONAL
        !id TYPE string OPTIONAL
        !recipient TYPE REF TO zcl_twa_user OPTIONAL
        !recipient_id TYPE string OPTIONAL
        !sender_id TYPE string OPTIONAL .
    CLASS-METHODS newfromjson
      IMPORTING
        !json TYPE string
      RETURNING
        value(dm) TYPE REF TO zcl_twa_dm .
    METHODS getcreatedat
      RETURNING
        value(created_at) TYPE string.
    METHODS setcreatedat
    IMPORTING
      !created_at TYPE string .
    METHODS getsenderscreenname
  RETURNING
    value(sender_screen_name) TYPE string.
    METHODS setsenderscreenname
    IMPORTING
      !sender_screen_name TYPE string .
    METHODS getsender
  RETURNING
    value(sender) TYPE REF TO zcl_twa_user.
    METHODS setsender
    IMPORTING
      !sender TYPE REF TO zcl_twa_user.
    METHODS gettext
  RETURNING
    value(text) TYPE string.
    METHODS settext
    IMPORTING
      !text TYPE string .
    METHODS getrecipientscreenname
  RETURNING
    value(recipient_screen_name) TYPE string.
    METHODS setrecipientscreenname
    IMPORTING
      !recipient_screen_name TYPE string .
    METHODS getid
  RETURNING
    value(id) TYPE string.
    METHODS setid
    IMPORTING
      !id TYPE string .
    METHODS getrecipient
  RETURNING
    value(recipient) TYPE REF TO zcl_twa_user.
    METHODS setrecipient
    IMPORTING
      !recipient TYPE REF TO zcl_twa_user.
    METHODS getrecipientid
  RETURNING
    value(recipient_id) TYPE string.
    METHODS setrecipientid
    IMPORTING
      !recipient_id TYPE string .
    METHODS getsenderid
  RETURNING
    value(sender_id) TYPE string.
    METHODS setsenderid
    IMPORTING
      !sender_id TYPE string .</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_DM
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA created_at TYPE string .
    DATA sender_screen_name TYPE string .
    DATA sender TYPE REF TO zcl_twa_user .
    DATA text TYPE string .
    DATA recipient_screen_name TYPE string .
    DATA id TYPE string .
    DATA recipient TYPE REF TO zcl_twa_user .
    DATA recipient_id TYPE string .
    DATA sender_id TYPE string .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="CREATED_AT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="RECIPIENT" VERSION="1" LANGU="E" DESCRIPT="Twitter User" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="RECIPIENT_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="SENDER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="SENDER_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_DM" CMPNAME="TEXT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="SENDER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="RECIPIENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="RECIPIENT_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="CONSTRUCTOR" SCONAME="SENDER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <source>METHOD constructor.

    me-&gt;created_at            = created_at.
    me-&gt;sender_screen_name    = sender_screen_name.
    me-&gt;sender                = sender.
    me-&gt;text                  = text.
    me-&gt;recipient_screen_name = recipient_screen_name.
    me-&gt;id                    = id.
    me-&gt;recipient             = recipient.
    me-&gt;recipient_id          = recipient_id.
    me-&gt;sender_id             = sender_id.

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETCREATEDAT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcreatedat.

    created_at = me-&gt;created_at.

  ENDMETHOD.                    &quot;GETCREATEDAT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getid.

    id = me-&gt;id.

  ENDMETHOD.                    &quot;GETID</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENT" SCONAME="RECIPIENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD getrecipient.

    recipient = me-&gt;recipient.

  ENDMETHOD.                    &quot;GETRECIPIENT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTID" SCONAME="RECIPIENT_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getrecipientid.

    recipient_id = me-&gt;recipient_id.

  ENDMETHOD.                    &quot;GETRECIPIENTID</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETRECIPIENTSCREENNAME" SCONAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getrecipientscreenname.

    recipient_screen_name = me-&gt;recipient_screen_name.

  ENDMETHOD.                    &quot;GETRECIPIENTSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDER" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDER" SCONAME="SENDER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD getsender.

    sender = me-&gt;sender.

  ENDMETHOD.                    &quot;GETSENDER</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERID" SCONAME="SENDER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getsenderid.

    sender_id = me-&gt;sender_id.

  ENDMETHOD.                    &quot;GETSENDERID</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETSENDERSCREENNAME" SCONAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getsenderscreenname.

    sender_screen_name = me-&gt;sender_screen_name.

  ENDMETHOD.                    &quot;GETSENDERSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="GETTEXT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="GETTEXT" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD gettext.

    text = me-&gt;text.

  ENDMETHOD.                    &quot;GETTEXT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" DESCRIPT="JSON string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="NEWFROMJSON" SCONAME="DM" VERSION="1" LANGU="E" DESCRIPT="Twitter Direct Message" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_DM"/>
   <source>METHOD newfromjson.

    DATA: json_doc                TYPE REF TO zcl_json_document,
          created_at              TYPE string,
          sender_screen_name      TYPE string,
          sender                  TYPE REF TO zcl_twa_user,
          text                    TYPE string,
          recipient_screen_name   TYPE string,
          id                      TYPE string,
          recipient               TYPE REF TO zcl_twa_user,
          recipient_id            TYPE string,
          sender_id               TYPE string,
          sender_json             TYPE string,
          recipient_json          TYPE string.

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    created_at            = json_doc-&gt;get_value( &apos;created_at&apos; ).
    sender_screen_name    = json_doc-&gt;get_value( &apos;sender_screen_name&apos; ).
    sender_json           = json_doc-&gt;get_value( &apos;sender&apos; ).
    text                  = json_doc-&gt;get_value( &apos;text&apos; ).
    recipient_screen_name = json_doc-&gt;get_value( &apos;recipient_screen_name&apos; ).
    id                    = json_doc-&gt;get_value( &apos;id&apos; ).
    recipient_json        = json_doc-&gt;get_value( &apos;recipient&apos; ).
    recipient_id          = json_doc-&gt;get_value( &apos;recipient_id&apos; ).
    sender_id             = json_doc-&gt;get_value( &apos;sender_id&apos; ).

    IF sender_json IS NOT INITIAL.
      sender = zcl_twa_user=&gt;newfromjson( sender_json ).
    ENDIF.

    IF recipient_json IS NOT INITIAL.
      recipient = zcl_twa_user=&gt;newfromjson( recipient_json ).
    ENDIF.

    CREATE OBJECT dm
      EXPORTING
        created_at            = created_at
        sender_screen_name    = sender_screen_name
        sender                = sender
        text                  = text
        recipient_screen_name = recipient_screen_name
        id                    = id
        recipient             = recipient
        recipient_id          = recipient_id
        sender_id             = sender_id.

  ENDMETHOD.                    &quot;NEWFROMJSON</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETCREATEDAT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setcreatedat.

    me-&gt;created_at = created_at.

  ENDMETHOD.                    &quot;SETCREATEDAT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setid.

    me-&gt;id = id.

  ENDMETHOD.                    &quot;SETID</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENT" SCONAME="RECIPIENT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD setrecipient.

    me-&gt;recipient = recipient.

  ENDMETHOD.                    &quot;SETRECIPIENT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTID" SCONAME="RECIPIENT_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setrecipientid.

    me-&gt;recipient_id = recipient_id.

  ENDMETHOD.                    &quot;SETRECIPIENTID</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETRECIPIENTSCREENNAME" SCONAME="RECIPIENT_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setrecipientscreenname.

    me-&gt;recipient_screen_name = recipient_screen_name.

  ENDMETHOD.                    &quot;SETRECIPIENTSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDER" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDER" SCONAME="SENDER" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD setsender.

    me-&gt;sender = sender.

  ENDMETHOD.                    &quot;SETSENDER</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERID" SCONAME="SENDER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setsenderid.

    me-&gt;sender_id = sender_id.

  ENDMETHOD.                    &quot;SETSENDERID</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETSENDERSCREENNAME" SCONAME="SENDER_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setsenderscreenname.

    me-&gt;sender_screen_name = sender_screen_name.

  ENDMETHOD.                    &quot;SETSENDERSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM" CMPNAME="SETTEXT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM" CMPNAME="SETTEXT" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD settext.

    me-&gt;text = text.

  ENDMETHOD.                    &quot;SETTEXT</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_DM_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Direct Messages" UUID="000C293B231B1EE28D94CFFBD76911ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_DM_RES DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_dm_res DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_DM_RES
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor .
    METHODS direct_messages
      IMPORTING
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !include_entities TYPE string OPTIONAL
      RETURNING
        value(dms) TYPE zcl_twa_dm_t
      RAISING
        zcx_oauth_error .
    METHODS sent
      IMPORTING
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !include_entities TYPE string OPTIONAL
      RETURNING
        value(dms) TYPE zcl_twa_dm_t
      RAISING
        zcx_oauth_error .
    METHODS new
      IMPORTING
        !screen_name TYPE string OPTIONAL
        !user_id TYPE string OPTIONAL
        !text TYPE string
        !include_entities TYPE string OPTIONAL
      RETURNING
        value(dm) TYPE REF TO zcl_twa_dm
      RAISING
        zcx_oauth_error .
    METHODS destroy
      IMPORTING
        !id TYPE string
      RAISING
        zcx_oauth_error .
*&quot;* protected components of class ZCL_TWA_DIRECT_MES
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_DIRECT_MES
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA oauth TYPE REF TO zcl_oauth .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_DM_RES" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="A! = Requires authentication" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

    me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DESTROY" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/post/direct_messages/destroy/:" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DESTROY" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DESTROY" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD destroy.

    DATA: url             TYPE string,
        appendix        TYPE string,
        json            TYPE string,
        parameters      TYPE zoauth_key_value_t,
        token_secret    TYPE string,
        consumer_secret TYPE string,
        secret          TYPE string.

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/direct_messages/destroy/&apos;
      id
      &apos;.json&apos;
    INTO appendix.

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      appendix
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl( appendix ).

  ENDMETHOD.                    &quot;DESTROY</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/direct_messages" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="INCLUDE_ENTITIES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="DMS" VERSION="1" LANGU="E" DESCRIPT="Direct Message Table" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_DM_T"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="DIRECT_MESSAGES" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD direct_messages.

    DATA: parameters      TYPE zoauth_key_value_t,
          url             TYPE string,
          appendix        TYPE string,
          json            TYPE string,
          json_doc        TYPE REF TO zcl_json_document,
          token_secret    TYPE string,
          consumer_secret TYPE string,
          secret          TYPE string.

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value,
                   &lt;dm&gt;        TYPE REF TO zcl_twa_dm.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/direct_messages.json&apos;
    INTO appendix.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    IF include_entities IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;include_entities&apos;.                 &quot;#EC NOTEXT
      &lt;parameter&gt;-value = include_entities.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      appendix
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = appendix ).

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE dms ASSIGNING &lt;dm&gt;.
      &lt;dm&gt; = zcl_twa_dm=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;DIRECT_MESSAGES</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/post/direct_messages/new" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="USER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="INCLUDE_ENTITIES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="DM" VERSION="1" LANGU="E" DESCRIPT="Direct Message Table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_DM"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="NEW" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD new.

    DATA: url             TYPE string,
          appendix        TYPE string,
          json            TYPE string,
          parameters      TYPE zoauth_key_value_t,
          token_secret    TYPE string,
          consumer_secret TYPE string,
          secret          TYPE string.

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- OAuth parameters must be set before status parameters              ---*
    &quot;*--- (else &quot;Wrong signature&quot;, don&apos;t know why, no clear reason for that) ---*
    oauth-&gt;append_oauth_parameters( ).
    parameters = oauth-&gt;get_parameters( ).

    &quot;*--- status parameter ---*
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;text&apos;.
    &lt;parameter&gt;-value = oauth-&gt;percent_encode( text ).

    IF screen_name IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
*    &lt;parameter&gt;-key = &apos;screen_name&apos;.  &quot;&lt;- we get an &apos;Incorrect signature&apos; error
      &lt;parameter&gt;-key = &apos;user&apos;.          &quot;&lt;- but not with &apos;user&apos; (??)
      &lt;parameter&gt;-value = screen_name.
    ENDIF.

    IF user_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;user_id&apos;.
      &lt;parameter&gt;-value = user_id.
    ENDIF.

    IF include_entities IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;include_entities&apos;.
      &lt;parameter&gt;-value = include_entities.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/direct_messages/new.json&apos;
    INTO appendix.

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      appendix
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl( appendix ).
    dm = zcl_twa_dm=&gt;newfromjson( json ).

  ENDMETHOD.                    &quot;NEW</source>
  </method>
  <method CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/direct_messages/sent" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="INCLUDE_ENTITIES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="DMS" VERSION="1" LANGU="E" DESCRIPT="Direct Message Table" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_DM_T"/>
   <exception CLSNAME="ZCL_TWA_DM_RES" CMPNAME="SENT" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="OAuth library Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD sent.

    DATA: parameters      TYPE zoauth_key_value_t,
          url             TYPE string,
          appendix        TYPE string,
          json            TYPE string,
          json_doc        TYPE REF TO zcl_json_document,
          token_secret    TYPE string,
          consumer_secret TYPE string,
          secret          TYPE string.

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value,
                   &lt;dm&gt;        TYPE REF TO zcl_twa_dm.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/direct_messages/sent.json&apos;
    INTO appendix.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    IF include_entities IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;include_entities&apos;.                 &quot;#EC NOTEXT
      &lt;parameter&gt;-value = include_entities.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      appendix
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = appendix ).

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE dms ASSIGNING &lt;dm&gt;.
      &lt;dm&gt; = zcl_twa_dm=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;SENT</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_SEARCH" VERSION="1" LANGU="E" DESCRIPT="Twitter Search result" UUID="000C293B231B1EE28D94CFFBD76851ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_SEARCH DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_search DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_SEARCH
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor
      IMPORTING
        !max_id TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !refresh_url TYPE string OPTIONAL
        !next_page TYPE string OPTIONAL
        !results_per_page TYPE i OPTIONAL
        !page TYPE i OPTIONAL
        !completed_in TYPE string OPTIONAL
        !query TYPE string OPTIONAL
        !results TYPE zcl_twa_status_t OPTIONAL .
    CLASS-METHODS newfromjson
      IMPORTING
        !json TYPE string
      RETURNING
        value(search) TYPE REF TO zcl_twa_search .
    METHODS getmaxid
      RETURNING
        value(max_id) TYPE string .
    METHODS getsinceid
      RETURNING
        value(since_id) TYPE string .
    METHODS getrefreshurl
      RETURNING
        value(refresh_url) TYPE string .
    METHODS getresultsperpage
      RETURNING
        value(results_per_page) TYPE i .
    METHODS getpage
      RETURNING
        value(page) TYPE i .
    METHODS getcompletedin
      RETURNING
        value(completed_in) TYPE string .
    METHODS getquery
      RETURNING
        value(query) TYPE string .
    METHODS getresults
      RETURNING
        value(results) TYPE zcl_twa_status_t .
    METHODS setmaxid
      IMPORTING
        !max_id TYPE string .
    METHODS setsinceid
      IMPORTING
        !since_id TYPE string .
    METHODS setrefreshurl
      IMPORTING
        !refresh_url TYPE string .
    METHODS setresultsperpage
      IMPORTING
        !results_per_page TYPE i .
    METHODS setpage
      IMPORTING
        !page TYPE i .
    METHODS setcompletedin
      IMPORTING
        !completed_in TYPE string .
    METHODS setquery
      IMPORTING
        !query TYPE string .
    METHODS setresults
      IMPORTING
        !results TYPE zcl_twa_status_t .
    METHODS setnextpage
      IMPORTING
        !next_page TYPE string .
    METHODS getnextpage
      RETURNING
        value(next_page) TYPE string .
*&quot;* protected components of class ZCL_TWA_SEARCH
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_SEARCH
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA max_id TYPE string .
    DATA since_id TYPE string .
    DATA refresh_url TYPE string .
    DATA next_page TYPE string .
    DATA results_per_page TYPE i .
    DATA page TYPE i .
    DATA completed_in TYPE string .
    DATA query TYPE string .
    DATA results TYPE zcl_twa_status_t .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="COMPLETED_IN" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="MAX_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEXT_PAGE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="PAGE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="QUERY" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="REFRESH_URL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="RESULTS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="RESULTS_PER_PAGE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SINCE_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="REFRESH_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="NEXT_PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="RESULTS_PER_PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="COMPLETED_IN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="QUERY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="CONSTRUCTOR" SCONAME="RESULTS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T" PAROPTIONL="X"/>
   <source>METHOD constructor.

    me-&gt;max_id = max_id.
    me-&gt;since_id = since_id.
    me-&gt;refresh_url = refresh_url.
    me-&gt;next_page = next_page.
    me-&gt;results_per_page = results_per_page.
    me-&gt;page = page.
    me-&gt;completed_in = completed_in.
    me-&gt;query = query.
    me-&gt;results = results.

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETCOMPLETEDIN" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETCOMPLETEDIN" SCONAME="COMPLETED_IN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcompletedin.

    completed_in = me-&gt;completed_in.

  ENDMETHOD.                    &quot;GETCOMPLETEDIN</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETMAXID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETMAXID" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getmaxid.

    max_id = me-&gt;max_id.

  ENDMETHOD.                    &quot;GETMAXID</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETNEXTPAGE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETNEXTPAGE" SCONAME="NEXT_PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getnextpage.

    next_page = me-&gt;next_page.

  ENDMETHOD.                    &quot;GETNEXTPAGE</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETPAGE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETPAGE" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getpage.

    page = me-&gt;page.

  ENDMETHOD.                    &quot;GETPAGE</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETQUERY" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETQUERY" SCONAME="QUERY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getquery.

    query = me-&gt;query.

  ENDMETHOD.                    &quot;GETQUERY</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETREFRESHURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETREFRESHURL" SCONAME="REFRESH_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getrefreshurl.

    refresh_url = me-&gt;refresh_url.

  ENDMETHOD.                    &quot;GETREFRESHURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTS" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTS" SCONAME="RESULTS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <source>METHOD getresults.

    results = me-&gt;results.

  ENDMETHOD.                    &quot;GETRESULTS</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTSPERPAGE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETRESULTSPERPAGE" SCONAME="RESULTS_PER_PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getresultsperpage.

    results_per_page = me-&gt;results_per_page.

  ENDMETHOD.                    &quot;GETRESULTSPERPAGE</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETSINCEID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="GETSINCEID" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getsinceid.

    since_id = me-&gt;since_id.

  ENDMETHOD.                    &quot;GETSINCEID</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" DESCRIPT="JSON string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="NEWFROMJSON" SCONAME="SEARCH" VERSION="1" LANGU="E" DESCRIPT="Twitter Search result" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_SEARCH"/>
   <source>METHOD newfromjson.

    DATA: json_doc         TYPE REF TO zcl_json_document
        , max_id           TYPE string
        , since_id         TYPE string
        , refresh_url      TYPE string
        , next_page        TYPE string
        , results_per_page TYPE i
        , page             TYPE i
        , completed_in     TYPE string
        , query            TYPE string
        , results          TYPE zcl_twa_status_t
        , result_json      TYPE string
        , status_json      TYPE string
        .

    FIELD-SYMBOLS: &lt;status&gt; TYPE REF TO zcl_twa_status.

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    max_id           = json_doc-&gt;get_value( &apos;max_id&apos; ).
    since_id         = json_doc-&gt;get_value( &apos;since_id&apos; ).
    refresh_url      = json_doc-&gt;get_value( &apos;refresh_url&apos; ).
    results_per_page = json_doc-&gt;get_value_int( &apos;results_per_page&apos; ).
    next_page        = json_doc-&gt;get_value( &apos;next_page&apos; ).
    page             = json_doc-&gt;get_value_int( &apos;page&apos; ).
    completed_in     = json_doc-&gt;get_value( &apos;completed_in&apos; ).
    query            = json_doc-&gt;get_value( &apos;query&apos; ).

    &quot;*--- create status objects ---*
    result_json = json_doc-&gt;get_value( &apos;results&apos; ).

    IF result_json IS NOT INITIAL.
      json_doc-&gt;set_json( result_json ).

      WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

        status_json = json_doc-&gt;get_json( ).

        INSERT INITIAL LINE INTO TABLE results ASSIGNING &lt;status&gt;.
        &lt;status&gt; = zcl_twa_status=&gt;newfromjson( status_json ).

      ENDWHILE.
    ENDIF.

    CREATE OBJECT search
      EXPORTING
        max_id           = max_id
        since_id         = since_id
        refresh_url      = refresh_url
        next_page        = next_page
        results_per_page = results_per_page
        page             = page
        completed_in     = completed_in
        query            = query
        results          = results.

  ENDMETHOD.                    &quot;NEWFROMJSON</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETCOMPLETEDIN" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETCOMPLETEDIN" SCONAME="COMPLETED_IN" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setcompletedin.

    me-&gt;completed_in = completed_in.

  ENDMETHOD.                    &quot;SETCOMPLETEDIN</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETMAXID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETMAXID" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setmaxid.

    me-&gt;max_id = max_id.

  ENDMETHOD.                    &quot;SETMAXID</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETNEXTPAGE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETNEXTPAGE" SCONAME="NEXT_PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setnextpage.

    me-&gt;next_page = next_page.

  ENDMETHOD.                    &quot;SETNEXTPAGE</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETPAGE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETPAGE" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setpage.

    me-&gt;page = page.

  ENDMETHOD.                    &quot;SETPAGE</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETQUERY" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETQUERY" SCONAME="QUERY" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setquery.

    me-&gt;query = query.

  ENDMETHOD.                    &quot;SETQUERY</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETREFRESHURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETREFRESHURL" SCONAME="REFRESH_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setrefreshurl.

    me-&gt;refresh_url = refresh_url.

  ENDMETHOD.                    &quot;SETREFRESHURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTS" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTS" SCONAME="RESULTS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <source>METHOD setresults.

    me-&gt;results = results.

  ENDMETHOD.                    &quot;SETRESULTS</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTSPERPAGE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETRESULTSPERPAGE" SCONAME="RESULTS_PER_PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setresultsperpage.

    me-&gt;results_per_page = results_per_page.

  ENDMETHOD.                    &quot;SETRESULTSPERPAGE</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETSINCEID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH" CMPNAME="SETSINCEID" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setsinceid.

    me-&gt;since_id = since_id.

  ENDMETHOD.                    &quot;SETSINCEID</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_SEARCH_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Search Resources" UUID="000C293B231B1EE28D94CFFBD76791ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_SEARCH_RES DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_search_res DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_SEARCH_RES
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor .
    METHODS search
      IMPORTING
        !q TYPE string OPTIONAL
        !lang TYPE string OPTIONAL
        !rpp TYPE i OPTIONAL
        !page TYPE i OPTIONAL
        !next_page TYPE string OPTIONAL
      RETURNING
        value(result) TYPE REF TO zcl_twa_search
      RAISING
        zcx_oauth_error .
*&quot;* protected components of class ZCL_TWA_SEARCH_RES
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_SEARCH_RES
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA oauth TYPE REF TO zcl_oauth .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

    me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" VERSION="1" LANGU="E" DESCRIPT="http://dev.twitter.com/doc/get/search" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="Q" VERSION="1" LANGU="E" DESCRIPT="Query string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="LANG" VERSION="1" LANGU="E" DESCRIPT="Language" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="RPP" VERSION="1" LANGU="E" DESCRIPT="Tweets per page (max. 100)" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="PAGE" VERSION="1" LANGU="E" DESCRIPT="Page" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="NEXT_PAGE" VERSION="1" LANGU="E" DESCRIPT="Query for next page" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="RESULT" VERSION="1" LANGU="E" DESCRIPT="Twitter Search result" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_SEARCH"/>
   <exception CLSNAME="ZCL_TWA_SEARCH_RES" CMPNAME="SEARCH" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD search.

    DATA: json       TYPE string
        , parameters TYPE zoauth_key_value_t
        , np         TYPE string
        , np_t       TYPE TABLE OF string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE LINE OF zoauth_key_value_t
                 , &lt;np&gt;        TYPE string
                 .

    IF next_page IS NOT INITIAL.

      &quot;something like &apos;?page=2&amp;max_id=1480307926&amp;q=%40twitterapi&apos;
      np = next_page.
      SHIFT np LEFT DELETING LEADING &apos;?&apos;.
      SPLIT np AT &apos;&amp;&apos; INTO TABLE np_t.

      LOOP AT np_t
        ASSIGNING &lt;np&gt;.
        INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
        SPLIT &lt;np&gt; AT &apos;=&apos; INTO &lt;parameter&gt;-key &lt;parameter&gt;-value.
      ENDLOOP.

    ELSE.

      &quot;*--- create parameters ---*
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;q&apos;.
      &lt;parameter&gt;-value = oauth-&gt;percent_encode( q ).

      &quot;*--- language ---*
      IF lang IS NOT INITIAL.
        INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
        &lt;parameter&gt;-key = &apos;lang&apos;.
        &lt;parameter&gt;-value = lang.
      ENDIF.

      &quot;*--- tweets per page ---*
      IF rpp IS NOT INITIAL.
        INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
        &lt;parameter&gt;-key = &apos;rpp&apos;.
        &lt;parameter&gt;-value = rpp.
        CONDENSE &lt;parameter&gt;-value NO-GAPS.
      ENDIF.

      &quot;*--- page ---*
      IF page IS NOT INITIAL.
        INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
        &lt;parameter&gt;-key = &apos;page&apos;.
        &lt;parameter&gt;-value = page.
        CONDENSE &lt;parameter&gt;-value NO-GAPS.
      ENDIF.

    ENDIF.

    oauth-&gt;set_parameters( parameters ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl(
      host   = &apos;search.twitter.com&apos;
      url    = &apos;/search.json&apos;
      ).

    result = zcl_twa_search=&gt;newfromjson( json ).

  ENDMETHOD.                    &quot;SEARCH</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" UUID="000C293B231B1EE28D94CFFBD766D1ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_STATUS DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_status DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_STATUS
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor
      IMPORTING
        !coordinates TYPE string OPTIONAL
        !truncated TYPE string OPTIONAL
        !contributors TYPE string OPTIONAL
        !source TYPE string OPTIONAL
        !created_at TYPE string OPTIONAL
        !geo TYPE string OPTIONAL
        !in_reply_to_screen_name TYPE string OPTIONAL
        !favorited TYPE string OPTIONAL
        !in_reply_to_status_id TYPE string OPTIONAL
        !place TYPE string OPTIONAL
        !id TYPE string OPTIONAL
        !in_reply_to_user_id TYPE string OPTIONAL
        !text TYPE string OPTIONAL
        !user TYPE REF TO zcl_twa_user OPTIONAL .
    CLASS-METHODS newfromjson
      IMPORTING
        !json TYPE string
      RETURNING
        value(status) TYPE REF TO zcl_twa_status .
    METHODS getcoordinates
      RETURNING
        value(coordinates) TYPE string .
    METHODS setcoordinates
      IMPORTING
        !coordinates TYPE string .
    METHODS gettruncated
      RETURNING
        value(truncated) TYPE string .
    METHODS settruncated
      IMPORTING
        !truncated TYPE string .
    METHODS getcontributors
      RETURNING
        value(contributors) TYPE string .
    METHODS setcontributors
      IMPORTING
        !contributors TYPE string .
    METHODS getsource
      RETURNING
        value(source) TYPE string .
    METHODS setsource
      IMPORTING
        !source TYPE string .
    METHODS getcreatedat
      RETURNING
        value(created_at) TYPE string .
    METHODS setcreatedat
      IMPORTING
        !created_at TYPE string .
    METHODS getgeo
      RETURNING
        value(geo) TYPE string .
    METHODS setgeo
      IMPORTING
        !geo TYPE string .
    METHODS getinreplytoscreenname
      RETURNING
        value(in_reply_to_screen_name) TYPE string .
    METHODS setinreplytoscreenname
      IMPORTING
        !in_reply_to_screen_name TYPE string .
    METHODS getfavorited
      RETURNING
        value(favorited) TYPE string .
    METHODS setfavorited
      IMPORTING
        !favorited TYPE string .
    METHODS getinreplytostatusid
      RETURNING
        value(in_reply_to_status_id) TYPE string .
    METHODS setinreplytostatusid
      IMPORTING
        !in_reply_to_status_id TYPE string .
    METHODS getplace
      RETURNING
        value(place) TYPE string .
    METHODS setplace
      IMPORTING
        !place TYPE string .
    METHODS getid
      RETURNING
        value(id) TYPE string .
    METHODS setid
      IMPORTING
        !id TYPE string .
    METHODS getinreplytouserid
      RETURNING
        value(in_reply_to_user_id) TYPE string .
    METHODS setinreplytouserid
      IMPORTING
        !in_reply_to_user_id TYPE string .
    METHODS gettext
      RETURNING
        value(text) TYPE string .
    METHODS settext
      IMPORTING
        !text TYPE string .
    METHODS getuser
      RETURNING
        value(user) TYPE REF TO zcl_twa_user .
    METHODS setuser
      IMPORTING
        !user TYPE REF TO zcl_twa_user .
*&quot;* protected components of class ZCL_TWA_STATUS
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_STATUS
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA coordinates TYPE string .
    DATA truncated TYPE string .
    DATA contributors TYPE string .
    DATA source TYPE string .
    DATA created_at TYPE string .
    DATA geo TYPE string .
    DATA in_reply_to_screen_name TYPE string .
    DATA favorited TYPE string .
    DATA in_reply_to_status_id TYPE string .
    DATA place TYPE string .
    DATA id TYPE string .
    DATA in_reply_to_user_id TYPE string .
    DATA text TYPE string .
    DATA user TYPE REF TO zcl_twa_user .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONTRIBUTORS" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="COORDINATES" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="CREATED_AT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="FAVORITED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="GEO" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="11 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="12 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="PLACE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="10 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="SOURCE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="TEXT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="13 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="TRUNCATED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_STATUS" CMPNAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" EXPOSURE="0" STATE="1" EDITORDER="14 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_USER" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="COORDINATES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="TRUNCATED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="CONTRIBUTORS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="SOURCE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="GEO" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="FAVORITED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="PLACE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="10 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="11 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="12 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="13 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="CONSTRUCTOR" SCONAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="2" EDITORDER="14 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER" PAROPTIONL="X"/>
   <source>METHOD constructor.

    me-&gt;coordinates = coordinates.
    me-&gt;truncated = truncated.
    me-&gt;contributors = contributors.
    me-&gt;source = source.
    me-&gt;created_at = created_at.
    me-&gt;geo = geo.
    me-&gt;in_reply_to_screen_name = in_reply_to_screen_name.
    me-&gt;favorited = favorited.
    me-&gt;in_reply_to_status_id = in_reply_to_status_id.
    me-&gt;place = place.
    me-&gt;id = id.
    me-&gt;in_reply_to_user_id = in_reply_to_user_id.
    me-&gt;text = text.
    me-&gt;user = user.

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCONTRIBUTORS" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCONTRIBUTORS" SCONAME="CONTRIBUTORS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcontributors.

    contributors = me-&gt;contributors.

  ENDMETHOD.                    &quot;GETCONTRIBUTORS</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCOORDINATES" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCOORDINATES" SCONAME="COORDINATES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcoordinates.

    coordinates = me-&gt;coordinates.

  ENDMETHOD.                    &quot;GETCOORDINATES</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCREATEDAT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getcreatedat.

    created_at = me-&gt;created_at.

  ENDMETHOD.                    &quot;GETCREATEDAT</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETFAVORITED" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETFAVORITED" SCONAME="FAVORITED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getfavorited.

    favorited = me-&gt;favorited.

  ENDMETHOD.                    &quot;GETFAVORITED</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETGEO" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETGEO" SCONAME="GEO" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getgeo.

    geo = me-&gt;geo.

  ENDMETHOD.                    &quot;GETGEO</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="23 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getid.

    id = me-&gt;id.

  ENDMETHOD.                    &quot;GETID</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSCREENNAME" SCONAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getinreplytoscreenname.

    in_reply_to_screen_name = me-&gt;in_reply_to_screen_name.

  ENDMETHOD.                    &quot;GETINREPLYTOSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSTATUSID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOSTATUSID" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getinreplytostatusid.

    in_reply_to_status_id = me-&gt;in_reply_to_status_id.

  ENDMETHOD.                    &quot;GETINREPLYTOSTATUSID</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOUSERID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="25 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETINREPLYTOUSERID" SCONAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getinreplytouserid.

    in_reply_to_user_id = me-&gt;in_reply_to_user_id.

  ENDMETHOD.                    &quot;GETINREPLYTOUSERID</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETPLACE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="21 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETPLACE" SCONAME="PLACE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getplace.

    place = me-&gt;place.

  ENDMETHOD.                    &quot;GETPLACE</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETSOURCE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETSOURCE" SCONAME="SOURCE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getsource.

    source = me-&gt;source.

  ENDMETHOD.                    &quot;GETSOURCE</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTEXT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="27 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTEXT" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD gettext.

    text = me-&gt;text.

  ENDMETHOD.                    &quot;GETTEXT</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTRUNCATED" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETTRUNCATED" SCONAME="TRUNCATED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD gettruncated.

    truncated = me-&gt;truncated.

  ENDMETHOD.                    &quot;GETTRUNCATED</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETUSER" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="29 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="GETUSER" SCONAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD getuser.

    user = me-&gt;user.

  ENDMETHOD.                    &quot;GETUSER</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" DESCRIPT="JSON string" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="NEWFROMJSON" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <source>METHOD newfromjson.

    DATA: json_doc                TYPE REF TO zcl_json_document
        , coordinates             TYPE string
        , truncated               TYPE string
        , contributors            TYPE string
        , source                  TYPE string
        , created_at              TYPE string
        , geo                     TYPE string
        , in_reply_to_screen_name TYPE string
        , favorited               TYPE string
        , in_reply_to_status_id   TYPE string
        , place                   TYPE string
        , id                      TYPE string
        , in_reply_to_user_id     TYPE string
        , text                    TYPE string
        , user                    TYPE REF TO zcl_twa_user
        , user_json               TYPE string
        .

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    coordinates             = json_doc-&gt;get_value( &apos;coordinates&apos; ).
    truncated               = json_doc-&gt;get_value( &apos;truncated&apos; ).
    contributors            = json_doc-&gt;get_value( &apos;contributors&apos; ).
    source                  = json_doc-&gt;get_value( &apos;source&apos; ).
    created_at              = json_doc-&gt;get_value( &apos;created_at&apos; ).
    geo                     = json_doc-&gt;get_value( &apos;geo&apos; ).
    in_reply_to_screen_name = json_doc-&gt;get_value( &apos;in_reply_to_screen_name&apos; ).
    favorited               = json_doc-&gt;get_value( &apos;favorited&apos; ).
    in_reply_to_status_id   = json_doc-&gt;get_value( &apos;in_reply_to_status_id&apos; ).
    place                   = json_doc-&gt;get_value( &apos;place&apos; ).
    id                      = json_doc-&gt;get_value( &apos;id&apos; ).
    in_reply_to_user_id     = json_doc-&gt;get_value( &apos;in_reply_to_user_id&apos; ).
    text                    = json_doc-&gt;get_value( &apos;text&apos; ).

    &quot;*--- create user object ---*
    user_json = json_doc-&gt;get_value( &apos;user&apos; ).

    IF user_json IS NOT INITIAL.
      user = zcl_twa_user=&gt;newfromjson( user_json ).
    ENDIF.

    CREATE OBJECT status
      EXPORTING
        coordinates             = coordinates
        truncated               = truncated
        contributors            = contributors
        source                  = source
        created_at              = created_at
        geo                     = geo
        in_reply_to_screen_name = in_reply_to_screen_name
        favorited               = favorited
        in_reply_to_status_id   = in_reply_to_status_id
        place                   = place
        id                      = id
        in_reply_to_user_id     = in_reply_to_user_id
        text                    = text
        user                    = user.

  ENDMETHOD.                    &quot;NEWFROMJSON</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCONTRIBUTORS" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCONTRIBUTORS" SCONAME="CONTRIBUTORS" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setcontributors.

    me-&gt;contributors = contributors.

  ENDMETHOD.                    &quot;SETCONTRIBUTORS</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCOORDINATES" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCOORDINATES" SCONAME="COORDINATES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setcoordinates.

    me-&gt;coordinates = coordinates.

  ENDMETHOD.                    &quot;SETCOORDINATES</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCREATEDAT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETCREATEDAT" SCONAME="CREATED_AT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setcreatedat.

    me-&gt;created_at = created_at.

  ENDMETHOD.                    &quot;SETCREATEDAT</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETFAVORITED" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETFAVORITED" SCONAME="FAVORITED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setfavorited.

    me-&gt;favorited = favorited.

  ENDMETHOD.                    &quot;SETFAVORITED</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETGEO" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETGEO" SCONAME="GEO" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setgeo.

    me-&gt;geo = geo.

  ENDMETHOD.                    &quot;SETGEO</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="24 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setid.

    me-&gt;id = id.

  ENDMETHOD.                    &quot;SETID</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSCREENNAME" SCONAME="IN_REPLY_TO_SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setinreplytoscreenname.

    me-&gt;in_reply_to_screen_name = in_reply_to_screen_name.

  ENDMETHOD.                    &quot;SETINREPLYTOSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSTATUSID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOSTATUSID" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setinreplytostatusid.

    me-&gt;in_reply_to_status_id = in_reply_to_status_id.

  ENDMETHOD.                    &quot;SETINREPLYTOSTATUSID</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOUSERID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="26 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETINREPLYTOUSERID" SCONAME="IN_REPLY_TO_USER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setinreplytouserid.

    me-&gt;in_reply_to_user_id = in_reply_to_user_id.

  ENDMETHOD.                    &quot;SETINREPLYTOUSERID</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETPLACE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="22 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETPLACE" SCONAME="PLACE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setplace.

    me-&gt;place = place.

  ENDMETHOD.                    &quot;SETPLACE</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETSOURCE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETSOURCE" SCONAME="SOURCE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setsource.

    me-&gt;source = source.

  ENDMETHOD.                    &quot;SETSOURCE</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTEXT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="28 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTEXT" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD settext.

    me-&gt;text = text.

  ENDMETHOD.                    &quot;SETTEXT</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTRUNCATED" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETTRUNCATED" SCONAME="TRUNCATED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD settruncated.

    me-&gt;truncated = truncated.

  ENDMETHOD.                    &quot;SETTRUNCATED</source>
  </method>
  <method CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETUSER" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="30 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_STATUS" CMPNAME="SETUSER" SCONAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD setuser.

    me-&gt;user = user.

  ENDMETHOD.                    &quot;SETUSER</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_TIMELINE_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Timeline Resources" UUID="000C293B231B1EE28D94CF3B9DD171ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_TIMELINE_RES DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_timeline_res DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_TIMELINE_RES
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor .
    METHODS public_timeline
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS home_timeline
      IMPORTING
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS friends_timeline
      IMPORTING
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS user_timeline
      IMPORTING
        !screen_name TYPE string OPTIONAL
        !user_id TYPE string OPTIONAL
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS mentions
      IMPORTING
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS retweeted_by_me
      IMPORTING
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS retweeted_to_me
      IMPORTING
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
    METHODS retweeted_of_me
      IMPORTING
        !count TYPE string OPTIONAL
        !page TYPE string OPTIONAL
        !since_id TYPE string OPTIONAL
        !max_id TYPE string OPTIONAL
      RETURNING
        value(statuses) TYPE zcl_twa_status_t
      RAISING
        zcx_oauth_error .
*&quot;* protected components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_TIMELINE_RES
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA oauth TYPE REF TO zcl_oauth .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="A! = auth required" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

    me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/friends_timeline" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="FRIENDS_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD friends_timeline.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/friends_timeline.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/friends_timeline.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;FRIENDS_TIMELINE</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/home_timeline" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="HOME_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD home_timeline.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/home_timeline.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/home_timeline.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;HOME_TIMELINE</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/mentions" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="MENTIONS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD mentions.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/mentions.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/mentions.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;MENTIONS</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="PUBLIC_TIMELINE" VERSION="1" LANGU="E" DESCRIPT="http://dev.twitter.com/doc/get/statuses/public_timeline" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="PUBLIC_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="PUBLIC_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD public_timeline.

*    DATA: url        TYPE string
*        , json       TYPE string
*        , json_doc   TYPE REF TO zcl_json_document
*        .
*
*    FIELD-SYMBOLS: &lt;status&gt; TYPE REF TO zcl_twa_status.
*
*    url = &apos;/statuses/public_timeline.json&apos;.
*
*    json = oauth-&gt;fetchurl( url = url method = &apos;GET&apos; ).
*    json_doc = zcl_json_document=&gt;create_with_json( json ).
*
*    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.
*
*      json = json_doc-&gt;get_json( ).
*
*      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
*      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).
*
*    ENDWHILE.

    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid           = zcx_oauth_error=&gt;api_error
        oauth_error_text = &apos;public_timeline not supported in v1.1 anymore&apos;.

  ENDMETHOD.                    &quot;PUBLIC_TIMELINE</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/retweeted_by_me" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_BY_ME" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD retweeted_by_me.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/retweeted_by_me.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/retweeted_by_me.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;RETWEETED_BY_ME</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/retweeted_of_me" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_OF_ME" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD retweeted_of_me.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/retweeted_of_me.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/retweeted_of_me.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;RETWEETED_OF_ME</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/get/statuses/retweeted_to_me" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="RETWEETED_TO_ME" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD retweeted_to_me.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).
    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/retweeted_to_me.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/retweeted_to_me.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;RETWEETED_TO_ME</source>
  </method>
  <method CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" VERSION="1" LANGU="E" DESCRIPT="(A!) http://dev.twitter.com/doc/get/statuses/user_timeline" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="USER_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="PAGE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="SINCE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="MAX_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="STATUSES" VERSION="1" LANGU="E" DESCRIPT="Twitter Status table" CMPTYPE="1" MTDTYPE="0" EDITORDER="7 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_STATUS_T"/>
   <exception CLSNAME="ZCL_TWA_TIMELINE_RES" CMPNAME="USER_TIMELINE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD user_timeline.

    DATA: parameters      TYPE zoauth_key_value_t
        , url             TYPE string
        , json            TYPE string
        , json_doc        TYPE REF TO zcl_json_document
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value
                 , &lt;status&gt;    TYPE REF TO zcl_twa_status
                 .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL
    AND screen_name IS INITIAL
    AND user_id IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- optional parameters ---*
    IF screen_name IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;screen_name&apos;.                      &quot;#EC NOTEXT
      &lt;parameter&gt;-value = screen_name.
    ENDIF.

    IF user_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;user_id&apos;.                          &quot;#EC NOTEXT
      &lt;parameter&gt;-value = user_id.
    ENDIF.

    IF count IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;count&apos;.                            &quot;#EC NOTEXT
      &lt;parameter&gt;-value = count.
    ENDIF.

    IF page IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;page&apos;.                             &quot;#EC NOTEXT
      &lt;parameter&gt;-value = page.
    ENDIF.

    IF since_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;since_id&apos;.                         &quot;#EC NOTEXT
      &lt;parameter&gt;-value = since_id.
    ENDIF.

    IF max_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;max_id&apos;.                           &quot;#EC NOTEXT
      &lt;parameter&gt;-value = max_id.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).

    IF oauth-&gt;is_authorized( ) IS NOT INITIAL.

      oauth-&gt;append_oauth_parameters( ).

      &quot;*--- create new secret ---*
      consumer_secret = oauth-&gt;get_consumer_secret( ).
      token_secret    = oauth-&gt;get_oauth_token_secret( ).

      CONCATENATE
        consumer_secret
        token_secret
      INTO secret.

      oauth-&gt;set_oauth_secret( secret ).
    ENDIF.

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/user_timeline.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    IF oauth-&gt;is_authorized( ) IS NOT INITIAL.
      &quot;*--- sign message ---*
      oauth-&gt;sign_message( &apos;GET&apos; ).
    ENDIF.

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/user_timeline.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
    json_doc = zcl_json_document=&gt;create_with_json( json ).

    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.

      json = json_doc-&gt;get_json( ).

      INSERT INITIAL LINE INTO TABLE statuses ASSIGNING &lt;status&gt;.
      &lt;status&gt; = zcl_twa_status=&gt;newfromjson( json ).

    ENDWHILE.

  ENDMETHOD.                    &quot;USER_TIMELINE</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_TWEETS_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API Tweets resources" UUID="000C293B231B1EE28D94CF3B9DD0B1ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_TWEETS_RES DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_tweets_res DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_TWEETS_RES
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor .
    METHODS show
      IMPORTING
        !id TYPE string
      RETURNING
        value(status) TYPE REF TO zcl_twa_status
      RAISING
        zcx_oauth_error .
    METHODS update
      IMPORTING
        !text TYPE string
        !in_reply_to_status_id TYPE string OPTIONAL
        !lat TYPE string OPTIONAL
        !long TYPE string OPTIONAL
        !place_id TYPE string OPTIONAL
        !display_coordinates TYPE string OPTIONAL
      RETURNING
        value(status) TYPE REF TO zcl_twa_status
      RAISING
        zcx_oauth_error .
    METHODS destroy
      IMPORTING
        !id TYPE string
      RETURNING
        value(status) TYPE REF TO zcl_twa_status
      RAISING
        zcx_oauth_error .
    METHODS retweet
      RAISING
        zcx_oauth_error .
    METHODS retweets
      RAISING
        zcx_oauth_error .
*&quot;* protected components of class ZCL_TWA_TWEETS_RES
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_TWEETS_RES
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA oauth TYPE REF TO zcl_oauth .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="* = not implemented yet / A! = auth required" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

    me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/post/statuses/destroy/:id" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="DESTROY" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD destroy.

    DATA: url             TYPE string
        , json            TYPE string
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/destroy/&apos;
      id
      &apos;.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/destroy/&apos;
      id
      &apos;.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( url ).
    status = zcl_twa_status=&gt;newfromjson( json ).

  ENDMETHOD.                    &quot;DESTROY</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEET" VERSION="1" LANGU="E" DESCRIPT="* A! http://dev.twitter.com/doc/post/statuses/retweet/:id" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEET" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD retweet.
  ENDMETHOD.                    &quot;RETWEET</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEETS" VERSION="1" LANGU="E" DESCRIPT="* http://dev.twitter.com/doc/get/statuses/retweets/:id" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="RETWEETS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD retweets.
  ENDMETHOD.                    &quot;RETWEETS</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" VERSION="1" LANGU="E" DESCRIPT="http://dev.twitter.com/doc/get/statuses/show/:id" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="SHOW" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD show.

    DATA url             TYPE string.
    DATA appendix        TYPE string.
    DATA json            TYPE string.
    DATA token_secret    TYPE string.
    DATA consumer_secret TYPE string.
    DATA secret          TYPE string.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/show/&apos;
      id
      &apos;.json&apos;
    INTO appendix.

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      appendix
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = appendix ).
    status = zcl_twa_status=&gt;newfromjson( json ).

  ENDMETHOD.                    &quot;SHOW</source>
  </method>
  <method CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" VERSION="1" LANGU="E" DESCRIPT="A! http://dev.twitter.com/doc/post/statuses/update" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="TEXT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="IN_REPLY_TO_STATUS_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="LAT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="LONG" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="PLACE_ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="DISPLAY_COORDINATES" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="7 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <exception CLSNAME="ZCL_TWA_TWEETS_RES" CMPNAME="UPDATE" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD update.

    DATA: url             TYPE string
        , json            TYPE string
        , parameters      TYPE zoauth_key_value_t
        , token_secret    TYPE string
        , consumer_secret TYPE string
        , secret          TYPE string
        .

    FIELD-SYMBOLS: &lt;parameter&gt; TYPE zjson_key_value.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    &quot;*--- OAuth parameters must be set before status parameters              ---*
    &quot;*--- (else &quot;Wrong signature&quot;, don&apos;t know why, no clear reason for that) ---*
    oauth-&gt;append_oauth_parameters( ).
    parameters = oauth-&gt;get_parameters( ).

    &quot;*--- status parameter ---*
    INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
    &lt;parameter&gt;-key = &apos;status&apos;.
    &lt;parameter&gt;-value = oauth-&gt;percent_encode( text ).

    IF in_reply_to_status_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;in_reply_to_status_id&apos;.
      &lt;parameter&gt;-value = in_reply_to_status_id.
    ENDIF.

    IF lat IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;lat&apos;.
      &lt;parameter&gt;-value = lat.
    ENDIF.

    IF long IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;long&apos;.
      &lt;parameter&gt;-value = long.
    ENDIF.

    IF place_id IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;place_id&apos;.
      &lt;parameter&gt;-value = place_id.
    ENDIF.

    IF display_coordinates IS NOT INITIAL.
      INSERT INITIAL LINE INTO TABLE parameters ASSIGNING &lt;parameter&gt;.
      &lt;parameter&gt;-key = &apos;display_coordinates&apos;.
      &lt;parameter&gt;-value = display_coordinates.
    ENDIF.

    oauth-&gt;set_parameters( parameters ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      zcl_twa_api=&gt;api_version
      &apos;/statuses/update.json&apos;
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( ).

    &quot;*--- send request ---*
    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/statuses/update.json&apos;
    INTO url.

    json = oauth-&gt;fetchurl( url ).
    status = zcl_twa_status=&gt;newfromjson( json ).

  ENDMETHOD.                    &quot;UPDATE</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" UUID="000C293B231B1EE28D94CF3B9DCFF1ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_USER DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_user DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_USER
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor
      IMPORTING
        !id TYPE string OPTIONAL
        !name TYPE string OPTIONAL
        !screen_name TYPE string OPTIONAL
        !location TYPE string OPTIONAL
        !description TYPE string OPTIONAL
        !profile_image_url TYPE string OPTIONAL
        !profile_background_tile TYPE string OPTIONAL
        !profile_background_image_url TYPE string OPTIONAL
        !profile_sidebar_fill_color TYPE string OPTIONAL
        !profile_background_color TYPE string OPTIONAL
        !profile_link_color TYPE string OPTIONAL
        !profile_text_color TYPE string OPTIONAL
        !protected TYPE string OPTIONAL
        !utc_offset TYPE i OPTIONAL
        !time_zone TYPE string OPTIONAL
        !followers_count TYPE i OPTIONAL
        !friends_count TYPE i OPTIONAL
        !statuses_count TYPE i OPTIONAL
        !favourites_count TYPE i OPTIONAL
        !url TYPE string OPTIONAL
        !status TYPE REF TO zcl_twa_status OPTIONAL .
    CLASS-METHODS newfromjson
      IMPORTING
        !json TYPE string
      RETURNING
        value(user) TYPE REF TO zcl_twa_user .
    METHODS getid
      RETURNING
        value(id) TYPE string .
    METHODS setid
      IMPORTING
        !id TYPE string .
    METHODS getname
      RETURNING
        value(name) TYPE string .
    METHODS setname
      IMPORTING
        !name TYPE string .
    METHODS getscreenname
      RETURNING
        value(screen_name) TYPE string .
    METHODS setscreenname
      IMPORTING
        !screen_name TYPE string .
    METHODS getlocation
      RETURNING
        value(location) TYPE string .
    METHODS setlocation
      IMPORTING
        !location TYPE string .
    METHODS getdescription
      RETURNING
        value(description) TYPE string .
    METHODS setdescription
      IMPORTING
        !description TYPE string .
    METHODS geturl
      RETURNING
        value(url) TYPE string .
    METHODS seturl
      IMPORTING
        !url TYPE string .
    METHODS getprofileimageurl
      RETURNING
        value(profile_image_url) TYPE string .
    METHODS setprofileimageurl
      IMPORTING
        !profile_image_url TYPE string .
    METHODS getprofilebackgroundtile
      RETURNING
        value(profile_background_tile) TYPE string .
    METHODS setprofilebackgroundtile
      IMPORTING
        !profile_background_tile TYPE string .
    METHODS getprofilebackgroundimageurl
      RETURNING
        value(profile_background_image_url) TYPE string .
    METHODS setprofilebackgroundimageurl
      IMPORTING
        !profile_background_image_url TYPE string .
    METHODS getprofilesidebarfillcolor
      RETURNING
        value(profile_sidebar_fill_color) TYPE string .
    METHODS setprofilesidebarfillcolor
      IMPORTING
        !profile_sidebar_fill_color TYPE string .
    METHODS getprofilebackgroundcolor
      RETURNING
        value(profile_background_color) TYPE string .
    METHODS setprofilebackgroundcolor
      IMPORTING
        !profile_background_color TYPE string .
    METHODS getprofilelinkcolor
      RETURNING
        value(profile_link_color) TYPE string .
    METHODS setprofilelinkcolor
      IMPORTING
        !profile_link_color TYPE string .
    METHODS getprofiletextcolor
      RETURNING
        value(profile_text_color) TYPE string .
    METHODS setprofiletextcolor
      IMPORTING
        !profile_text_color TYPE string .
    METHODS getprotected
      RETURNING
        value(protected) TYPE string .
    METHODS setprotected
      IMPORTING
        !protected TYPE string .
    METHODS getutcoffset
      RETURNING
        value(utc_offset) TYPE i .
    METHODS setutcoffset
      IMPORTING
        !utc_offset TYPE i .
    METHODS gettimezone
      RETURNING
        value(time_zone) TYPE string .
    METHODS settimezone
      IMPORTING
        !time_zone TYPE string .
    METHODS getstatus
      RETURNING
        value(status) TYPE REF TO zcl_twa_status .
    METHODS setstatus
      IMPORTING
        !status TYPE REF TO zcl_twa_status .
    METHODS getfriendscount
      RETURNING
        value(friends_count) TYPE i .
    METHODS setfriendscount
      IMPORTING
        !friends_count TYPE i .
    METHODS getfollowerscount
      RETURNING
        value(followers_count) TYPE i .
    METHODS setfollowerscount
      IMPORTING
        !followers_count TYPE i .
    METHODS getstatusescount
      RETURNING
        value(statuses_count) TYPE i .
    METHODS setstatusescount
      IMPORTING
        !statuses_count TYPE i .
    METHODS getfavouritescount
      RETURNING
        value(favourites_count) TYPE i .
    METHODS setfavouritescount
      IMPORTING
        !favourites_count TYPE i .
*&quot;* protected components of class ZCL_TWA_USER
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_USER
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA id TYPE string .
    DATA name TYPE string .
    DATA screen_name TYPE string .
    DATA location TYPE string .
    DATA description TYPE string .
    DATA profile_image_url TYPE string .
    DATA profile_background_tile TYPE string .
    DATA profile_background_image_url TYPE string .
    DATA profile_sidebar_fill_color TYPE string .
    DATA profile_background_color TYPE string .
    DATA profile_link_color TYPE string .
    DATA profile_text_color TYPE string .
    DATA protected TYPE string .
    DATA utc_offset TYPE string .
    DATA time_zone TYPE string .
    DATA followers_count TYPE i .
    DATA friends_count TYPE i .
    DATA statuses_count TYPE i .
    DATA favourites_count TYPE i .
    DATA url TYPE string .
    DATA status TYPE REF TO zcl_twa_status .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="DESCRIPTION" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="5 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="FAVOURITES_COUNT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="19 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="FOLLOWERS_COUNT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="16 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="FRIENDS_COUNT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="17 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="ID" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="LOCATION" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="4 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="2 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="10 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="8 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="7 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="6 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="11 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="9 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="12 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="PROTECTED" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="13 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="SCREEN_NAME" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="3 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" EXPOSURE="0" STATE="1" EDITORDER="21 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="STATUSES_COUNT" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="18 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="I" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="TIME_ZONE" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="15 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="URL" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="20 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <attribute CLSNAME="ZCL_TWA_USER" CMPNAME="UTC_OFFSET" VERSION="1" LANGU="E" EXPOSURE="0" STATE="1" EDITORDER="14 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="1" TYPE="STRING" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="CONSTRUCTOR" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="2 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="3 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="LOCATION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="4 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="DESCRIPTION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="5 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="6 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="7 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="8 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="9 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="10 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="11 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="12 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="PROTECTED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="13 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="UTC_OFFSET" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="14 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="TIME_ZONE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="15 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="FOLLOWERS_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="16 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="FRIENDS_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="17 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="STATUSES_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="18 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="FAVOURITES_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="19 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="2" EDITORDER="20 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="CONSTRUCTOR" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="2" EDITORDER="21 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_STATUS" PAROPTIONL="X"/>
   <source>METHOD constructor.

    me-&gt;id = id.
    me-&gt;name = name.
    me-&gt;screen_name = screen_name.
    me-&gt;location = location.
    me-&gt;description = description.
    me-&gt;profile_image_url = profile_image_url.
    me-&gt;profile_background_tile = profile_background_tile.
    me-&gt;profile_background_image_url = profile_background_image_url.
    me-&gt;profile_sidebar_fill_color = profile_sidebar_fill_color.
    me-&gt;profile_background_color = profile_background_color.
    me-&gt;profile_link_color = profile_link_color.
    me-&gt;profile_text_color = profile_text_color.
    me-&gt;protected = protected.
    me-&gt;utc_offset = utc_offset.
    me-&gt;time_zone = time_zone.
    me-&gt;followers_count = followers_count.
    me-&gt;friends_count = friends_count.
    me-&gt;statuses_count = statuses_count.
    me-&gt;favourites_count = favourites_count.
    me-&gt;url = url.
    me-&gt;status = status.

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETDESCRIPTION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="11 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETDESCRIPTION" SCONAME="DESCRIPTION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getdescription.

    description = me-&gt;description.

  ENDMETHOD.                    &quot;GETDESCRIPTION</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETFAVOURITESCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="43 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETFAVOURITESCOUNT" SCONAME="FAVOURITES_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getfavouritescount.

    favourites_count = me-&gt;favourites_count.

  ENDMETHOD.                    &quot;GETFAVOURITESCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETFOLLOWERSCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="39 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETFOLLOWERSCOUNT" SCONAME="FOLLOWERS_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getfollowerscount.

    followers_count = me-&gt;followers_count.

  ENDMETHOD.                    &quot;GETFOLLOWERSCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETFRIENDSCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="37 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETFRIENDSCOUNT" SCONAME="FRIENDS_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getfriendscount.

    friends_count = me-&gt;friends_count.

  ENDMETHOD.                    &quot;GETFRIENDSCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getid.

    id = me-&gt;id.

  ENDMETHOD.                    &quot;GETID</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETLOCATION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="9 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETLOCATION" SCONAME="LOCATION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getlocation.

    location = me-&gt;location.

  ENDMETHOD.                    &quot;GETLOCATION</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETNAME" SCONAME="NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getname.

    name = me-&gt;name.

  ENDMETHOD.                    &quot;GETNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="23 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDCOLOR" SCONAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofilebackgroundcolor.

    profile_background_color = me-&gt;profile_background_color.

  ENDMETHOD.                    &quot;GETPROFILEBACKGROUNDCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDIMAGEURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="19 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDIMAGEURL" SCONAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofilebackgroundimageurl.

    profile_background_image_url = me-&gt;profile_background_image_url.

  ENDMETHOD.                    &quot;GETPROFILEBACKGROUNDIMAGEURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDTILE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="17 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEBACKGROUNDTILE" SCONAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofilebackgroundtile.

    profile_background_tile = me-&gt;profile_background_tile.

  ENDMETHOD.                    &quot;GETPROFILEBACKGROUNDTILE</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEIMAGEURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="15 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILEIMAGEURL" SCONAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofileimageurl.

    profile_image_url = me-&gt;profile_image_url.

  ENDMETHOD.                    &quot;GETPROFILEIMAGEURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILELINKCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="25 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILELINKCOLOR" SCONAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofilelinkcolor.

    profile_link_color = me-&gt;profile_link_color.

  ENDMETHOD.                    &quot;GETPROFILELINKCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILESIDEBARFILLCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="21 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILESIDEBARFILLCOLOR" SCONAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofilesidebarfillcolor.

    profile_sidebar_fill_color = me-&gt;profile_sidebar_fill_color.

  ENDMETHOD.                    &quot;GETPROFILESIDEBARFILLCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILETEXTCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="27 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROFILETEXTCOLOR" SCONAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprofiletextcolor.

    profile_text_color = me-&gt;profile_text_color.

  ENDMETHOD.                    &quot;GETPROFILETEXTCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROTECTED" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="29 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETPROTECTED" SCONAME="PROTECTED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getprotected.

    protected = me-&gt;protected.

  ENDMETHOD.                    &quot;GETPROTECTED</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETSCREENNAME" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD getscreenname.

    screen_name = me-&gt;screen_name.

  ENDMETHOD.                    &quot;GETSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUS" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="35 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUS" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <source>METHOD getstatus.

    status = me-&gt;status.

  ENDMETHOD.                    &quot;GETSTATUS</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUSESCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="41 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETSTATUSESCOUNT" SCONAME="STATUSES_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getstatusescount.

    statuses_count = me-&gt;statuses_count.

  ENDMETHOD.                    &quot;GETSTATUSESCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETTIMEZONE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="33 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETTIMEZONE" SCONAME="TIME_ZONE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD gettimezone.

    time_zone = me-&gt;time_zone.

  ENDMETHOD.                    &quot;GETTIMEZONE</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="13 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETURL" SCONAME="URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD geturl.

    url = me-&gt;url.

  ENDMETHOD.                    &quot;GETURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="GETUTCOFFSET" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="31 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="GETUTCOFFSET" SCONAME="UTC_OFFSET" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="I"/>
   <source>METHOD getutcoffset.

    utc_offset = me-&gt;utc_offset.

  ENDMETHOD.                    &quot;GETUTCOFFSET</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="NEWFROMJSON" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="NEWFROMJSON" SCONAME="JSON" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="NEWFROMJSON" SCONAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <source>METHOD newfromjson.

    DATA: json_doc                     TYPE REF TO zcl_json_document
        , id                           TYPE string
        , name                         TYPE string
        , screen_name                  TYPE string
        , location                     TYPE string
        , description                  TYPE string
        , profile_image_url            TYPE string
        , profile_background_tile      TYPE string
        , profile_background_image_url TYPE string
        , profile_sidebar_fill_color   TYPE string
        , profile_background_color     TYPE string
        , profile_link_color           TYPE string
        , profile_text_color           TYPE string
        , protected                    TYPE string
        , utc_offset                   TYPE i
        , time_zone                    TYPE string
        , followers_count              TYPE i
        , friends_count                TYPE i
        , statuses_count               TYPE i
        , favourites_count             TYPE i
        , url                          TYPE string
        , status                       TYPE REF TO zcl_twa_status
        , status_json                  TYPE string
        .

    json_doc = zcl_json_document=&gt;create_with_json( json ).

    id                           = json_doc-&gt;get_value( &apos;id&apos; ).
    name                         = json_doc-&gt;get_value( &apos;name&apos; ).
    screen_name                  = json_doc-&gt;get_value( &apos;screen_name&apos; ).
    location                     = json_doc-&gt;get_value( &apos;location&apos; ).
    description                  = json_doc-&gt;get_value( &apos;description&apos; ).
    profile_image_url            = json_doc-&gt;get_value( &apos;profile_image_url&apos; ).
    profile_background_tile      = json_doc-&gt;get_value( &apos;profile_background_tile&apos; ).
    profile_background_image_url = json_doc-&gt;get_value( &apos;profile_background_image_url&apos; ).
    profile_sidebar_fill_color   = json_doc-&gt;get_value( &apos;profile_sidebar_fill_color&apos; ).
    profile_background_color     = json_doc-&gt;get_value( &apos;profile_background_color&apos; ).
    profile_link_color           = json_doc-&gt;get_value( &apos;profile_link_color&apos; ).
    profile_text_color           = json_doc-&gt;get_value( &apos;profile_text_color&apos; ).
    protected                    = json_doc-&gt;get_value( &apos;protected&apos; ).
    utc_offset                   = json_doc-&gt;get_value_int( &apos;utc_offset&apos; ).
    time_zone                    = json_doc-&gt;get_value( &apos;time_zone&apos; ).
    followers_count              = json_doc-&gt;get_value_int( &apos;followers_count&apos; ).
    friends_count                = json_doc-&gt;get_value_int( &apos;friends_count&apos; ).
    statuses_count               = json_doc-&gt;get_value_int( &apos;statuses_count&apos; ).
    favourites_count             = json_doc-&gt;get_value_int( &apos;favourites_count&apos; ).
    url                          = json_doc-&gt;get_value( &apos;url&apos; ).

    &quot;*--- create status object ---*
    status_json = json_doc-&gt;get_value( &apos;status&apos; ).

    IF status_json IS NOT INITIAL.
      status = zcl_twa_status=&gt;newfromjson( status_json ).
    ENDIF.

    CREATE OBJECT user
      EXPORTING
        id                           = id
        name                         = name
        screen_name                  = screen_name
        location                     = location
        description                  = description
        profile_image_url            = profile_image_url
        profile_background_tile      = profile_background_tile
        profile_background_image_url = profile_background_image_url
        profile_sidebar_fill_color   = profile_sidebar_fill_color
        profile_background_color     = profile_background_color
        profile_link_color           = profile_link_color
        profile_text_color           = profile_text_color
        protected                    = protected
        utc_offset                   = utc_offset
        time_zone                    = time_zone
        followers_count              = followers_count
        friends_count                = friends_count
        statuses_count               = statuses_count
        favourites_count             = favourites_count
        url                          = url
        status                       = status.

  ENDMETHOD.                    &quot;NEWFROMJSON</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETDESCRIPTION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="12 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETDESCRIPTION" SCONAME="DESCRIPTION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setdescription.

    me-&gt;description = description.

  ENDMETHOD.                    &quot;SETDESCRIPTION</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETFAVOURITESCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="44 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETFAVOURITESCOUNT" SCONAME="FAVOURITES_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setfavouritescount.

    me-&gt;favourites_count = favourites_count.

  ENDMETHOD.                    &quot;SETFAVOURITESCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETFOLLOWERSCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="40 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETFOLLOWERSCOUNT" SCONAME="FOLLOWERS_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setfollowerscount.

    me-&gt;followers_count = followers_count.

  ENDMETHOD.                    &quot;SETFOLLOWERSCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETFRIENDSCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="38 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETFRIENDSCOUNT" SCONAME="FRIENDS_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setfriendscount.

    me-&gt;friends_count = friends_count.

  ENDMETHOD.                    &quot;SETFRIENDSCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETID" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETID" SCONAME="ID" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setid.

    me-&gt;id = id.

  ENDMETHOD.                    &quot;SETID</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETLOCATION" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="10 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETLOCATION" SCONAME="LOCATION" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setlocation.

    me-&gt;location = location.

  ENDMETHOD.                    &quot;SETLOCATION</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETNAME" SCONAME="NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setname.

    me-&gt;name = name.

  ENDMETHOD.                    &quot;SETNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="24 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDCOLOR" SCONAME="PROFILE_BACKGROUND_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofilebackgroundcolor.

    me-&gt;profile_background_color = profile_background_color.

  ENDMETHOD.                    &quot;SETPROFILEBACKGROUNDCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDIMAGEURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="20 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDIMAGEURL" SCONAME="PROFILE_BACKGROUND_IMAGE_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofilebackgroundimageurl.

    me-&gt;profile_background_image_url = profile_background_image_url.

  ENDMETHOD.                    &quot;SETPROFILEBACKGROUNDIMAGEURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDTILE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="18 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEBACKGROUNDTILE" SCONAME="PROFILE_BACKGROUND_TILE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofilebackgroundtile.

    me-&gt;profile_background_tile = profile_background_tile.

  ENDMETHOD.                    &quot;SETPROFILEBACKGROUNDTILE</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEIMAGEURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="16 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILEIMAGEURL" SCONAME="PROFILE_IMAGE_URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofileimageurl.

    me-&gt;profile_image_url = profile_image_url.

  ENDMETHOD.                    &quot;SETPROFILEIMAGEURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILELINKCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="26 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILELINKCOLOR" SCONAME="PROFILE_LINK_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofilelinkcolor.

    me-&gt;profile_link_color = profile_link_color.

  ENDMETHOD.                    &quot;SETPROFILELINKCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILESIDEBARFILLCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="22 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILESIDEBARFILLCOLOR" SCONAME="PROFILE_SIDEBAR_FILL_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofilesidebarfillcolor.

    me-&gt;profile_sidebar_fill_color = profile_sidebar_fill_color.

  ENDMETHOD.                    &quot;SETPROFILESIDEBARFILLCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILETEXTCOLOR" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="28 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROFILETEXTCOLOR" SCONAME="PROFILE_TEXT_COLOR" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprofiletextcolor.

    me-&gt;profile_text_color = profile_text_color.

  ENDMETHOD.                    &quot;SETPROFILETEXTCOLOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROTECTED" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="30 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETPROTECTED" SCONAME="PROTECTED" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setprotected.

    me-&gt;protected = protected.

  ENDMETHOD.                    &quot;SETPROTECTED</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETSCREENNAME" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="8 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETSCREENNAME" SCONAME="SCREEN_NAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD setscreenname.

    me-&gt;screen_name = screen_name.

  ENDMETHOD.                    &quot;SETSCREENNAME</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUS" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="36 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUS" SCONAME="STATUS" VERSION="1" LANGU="E" DESCRIPT="Twitter Status" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="3" TYPE="ZCL_TWA_STATUS"/>
   <source>METHOD setstatus.

    me-&gt;status = status.

  ENDMETHOD.                    &quot;SETSTATUS</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUSESCOUNT" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="42 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETSTATUSESCOUNT" SCONAME="STATUSES_COUNT" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setstatusescount.

    me-&gt;statuses_count = statuses_count.

  ENDMETHOD.                    &quot;SETSTATUSESCOUNT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETTIMEZONE" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="34 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETTIMEZONE" SCONAME="TIME_ZONE" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD settimezone.

    me-&gt;time_zone = time_zone.

  ENDMETHOD.                    &quot;SETTIMEZONE</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETURL" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="14 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETURL" SCONAME="URL" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <source>METHOD seturl.

    me-&gt;url = url.

  ENDMETHOD.                    &quot;SETURL</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER" CMPNAME="SETUTCOFFSET" VERSION="1" LANGU="E" EXPOSURE="2" STATE="1" EDITORDER="32 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER" CMPNAME="SETUTCOFFSET" SCONAME="UTC_OFFSET" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="I"/>
   <source>METHOD setutcoffset.

    me-&gt;utc_offset = utc_offset.

  ENDMETHOD.                    &quot;SETUTCOFFSET</source>
  </method>
 </CLAS>
 <CLAS CLSNAME="ZCL_TWA_USER_RES" VERSION="1" LANGU="E" DESCRIPT="Twitter API User Resources" UUID="000C293B231B1EE28D94CF3B9DCF31ED" CATEGORY="00" EXPOSURE="2" STATE="1" RELEASE="0" CLSFINAL="X" CLSCCINCL="X" FIXPT="X" UNICODE="X" CLSBCCAT="00" DURATION_TYPE="0 " RISK_LEVEL="0 ">
  <publicSection>*----------------------------------------------------------------------*
*       CLASS ZCL_TWA_USER_RES DEFINITION
*----------------------------------------------------------------------*
*
*----------------------------------------------------------------------*
CLASS zcl_twa_user_res DEFINITION
  PUBLIC
  FINAL
  CREATE PUBLIC .

*&quot;* public components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!
  PUBLIC SECTION.

    METHODS constructor .
    METHODS show
      IMPORTING
        !username TYPE string
      RETURNING
        value(user) TYPE REF TO zcl_twa_user
      RAISING
        zcx_oauth_error .
    METHODS lookup .
    METHODS search .
    METHODS suggestions .
    METHODS friends
      IMPORTING
        !username TYPE string
      RETURNING
        value(users) TYPE zcl_twa_user_t
      RAISING
        zcx_oauth_error .
    METHODS followers
      IMPORTING
        !username TYPE string OPTIONAL
      RETURNING
        value(users) TYPE zcl_twa_user_t
      RAISING
        zcx_oauth_error .
*&quot;* protected components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!</publicSection>
  <protectedSection>PROTECTED SECTION.
*&quot;* private components of class ZCL_TWA_USER_RES
*&quot;* do not include other source files here!!!</protectedSection>
  <privateSection>PRIVATE SECTION.

    DATA oauth TYPE REF TO zcl_oauth .

    CLASS-METHODS copyright .</privateSection>
  <localImplementation>*&quot;* local class implementation for public class
*&quot;* use this source file for the implementation part of
*&quot;* local helper classes</localImplementation>
  <localTypes>*&quot;* use this source file for any type declarations (class
*&quot;* definitions, interfaces or data types) you need for method
*&quot;* implementation or private method&apos;s signature</localTypes>
  <localMacros>*&quot;* use this source file for any macro definitions you need
*&quot;* in the implementation part of the class</localMacros>
  <attribute CLSNAME="ZCL_TWA_USER_RES" CMPNAME="OAUTH" VERSION="1" LANGU="E" DESCRIPT="Twitter API OAuth helper class" EXPOSURE="0" STATE="1" EDITORDER="1 " ATTDECLTYP="0" ATTEXPVIRT="0" TYPTYPE="3" TYPE="ZCL_OAUTH" SRCROW1="0 " SRCCOLUMN1="0 " SRCROW2="0 " SRCCOLUMN2="0 " TYPESRC_LENG="0 "/>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="CONSTRUCTOR" VERSION="1" LANGU="E" DESCRIPT="* = not implemented yet / A! = auth required" EXPOSURE="2" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="2" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD constructor.

    me-&gt;oauth = zcl_oauth=&gt;get_instance( ).        &quot;OAuth helper

  ENDMETHOD.                    &quot;CONSTRUCTOR</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="COPYRIGHT" VERSION="1" LANGU="E" DESCRIPT="Readme: Copyright" EXPOSURE="0" STATE="1" EDITORDER="1 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="1" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD copyright.

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 Uwe Fetzer + SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

  ENDMETHOD.                    &quot;COPYRIGHT</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" VERSION="1" LANGU="E" DESCRIPT="http://dev.twitter.com/doc/get/statuses/followers" EXPOSURE="2" STATE="1" EDITORDER="7 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" SCONAME="USERNAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING" PAROPTIONL="X"/>
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" SCONAME="USERS" VERSION="1" LANGU="E" DESCRIPT="Twitter User table" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_USER_T"/>
   <exception CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FOLLOWERS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD followers.

*    DATA: url        TYPE string
*        , json       TYPE string
*        , user_json  TYPE string
*        , json_doc   TYPE REF TO zcl_json_document
*        .
*
*    FIELD-SYMBOLS: &lt;user&gt; TYPE REF TO zcl_twa_user.
*
*    IF username IS NOT INITIAL.
*      CONCATENATE
*        zcl_twa_api=&gt;api_version
*        &apos;/statuses/followers/&apos;
*        username
*        &apos;.json&apos;
*      INTO url.
*    ELSE.
*      CONCATENATE
*        zcl_twa_api=&gt;api_version
*        &apos;/statuses/followers.json&apos;
*      INTO url.
*    ENDIF.
*
*    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
*    json_doc = zcl_json_document=&gt;create_with_json( json ).
*
*    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.
*
*      user_json = json_doc-&gt;get_json( ).
*
*      INSERT INITIAL LINE INTO TABLE users ASSIGNING &lt;user&gt;.
*      &lt;user&gt; = zcl_twa_user=&gt;newfromjson( user_json ).
*
*    ENDWHILE.

    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid           = zcx_oauth_error=&gt;api_error
        oauth_error_text = &apos;not implemented yet (changed in API V1.1)&apos;.

  ENDMETHOD.                    &quot;FOLLOWERS</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" VERSION="1" LANGU="E" DESCRIPT="http://dev.twitter.com/doc/get/statuses/friends" EXPOSURE="2" STATE="1" EDITORDER="6 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" SCONAME="USERNAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" SCONAME="USERS" VERSION="1" LANGU="E" DESCRIPT="Twitter User table" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="1" TYPE="ZCL_TWA_USER_T"/>
   <exception CLSNAME="ZCL_TWA_USER_RES" CMPNAME="FRIENDS" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD friends.

*    DATA: url        TYPE string
*        , json       TYPE string
*        , json_doc   TYPE REF TO zcl_json_document
*        , user_json  TYPE string
*        .
*
*    FIELD-SYMBOLS: &lt;user&gt; TYPE REF TO zcl_twa_user.
*
*    CONCATENATE
*      zcl_twa_api=&gt;api_version
*      &apos;/statuses/friends/&apos;
*      username
*      &apos;.json&apos;
*    INTO url.
*
*    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = url ).
*    json_doc = zcl_json_document=&gt;create_with_json( json ).
*
*    WHILE json_doc-&gt;get_next( ) IS NOT INITIAL.
*
*      user_json = json_doc-&gt;get_json( ).
*
*      INSERT INITIAL LINE INTO TABLE users ASSIGNING &lt;user&gt;.
*      &lt;user&gt; = zcl_twa_user=&gt;newfromjson( user_json ).
*
*    ENDWHILE.

    RAISE EXCEPTION TYPE zcx_oauth_error
      EXPORTING
        textid           = zcx_oauth_error=&gt;api_error
        oauth_error_text = &apos;not implemented yet (changed in API V1.1)&apos;.

  ENDMETHOD.                    &quot;FRIENDS</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="LOOKUP" VERSION="1" LANGU="E" DESCRIPT="* A! http://dev.twitter.com/doc/get/users/lo" EXPOSURE="2" STATE="1" EDITORDER="3 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD lookup.
  ENDMETHOD.                    &quot;LOOKUP</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SEARCH" VERSION="1" LANGU="E" DESCRIPT="* A! http://dev.twitter.com/doc/get/users/se" EXPOSURE="2" STATE="1" EDITORDER="4 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD search.
  ENDMETHOD.                    &quot;SEARCH</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" VERSION="1" LANGU="E" DESCRIPT="http://dev.twitter.com/doc/get/users/show" EXPOSURE="2" STATE="1" EDITORDER="2 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" MTDNEWEXC="X" BCMTDCAT="00" BCMTDSYN="0">
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" SCONAME="USERNAME" VERSION="1" LANGU="E" CMPTYPE="1" MTDTYPE="0" EDITORDER="1 " DISPID="0 " PARDECLTYP="0" PARPASSTYP="1" TYPTYPE="1" TYPE="STRING"/>
   <parameter CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" SCONAME="USER" VERSION="1" LANGU="E" DESCRIPT="Twitter User" CMPTYPE="1" MTDTYPE="0" EDITORDER="2 " DISPID="0 " PARDECLTYP="3" PARPASSTYP="0" TYPTYPE="3" TYPE="ZCL_TWA_USER"/>
   <exception CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SHOW" SCONAME="ZCX_OAUTH_ERROR" VERSION="1" LANGU="E" DESCRIPT="Twitter API Error" MTDTYPE="0" EDITORDER="1 "/>
   <source>METHOD show.

    DATA url             TYPE string.
    DATA appendix        TYPE string.
    DATA json            TYPE string.
    DATA token_secret    TYPE string.
    DATA consumer_secret TYPE string.
    DATA secret          TYPE string.

    &quot;*--- method needs authorization ---*
    IF oauth-&gt;is_authorized( ) IS INITIAL.
      RAISE EXCEPTION TYPE zcx_oauth_error
        EXPORTING
          textid = zcx_oauth_error=&gt;authorization_required.
    ENDIF.

    oauth-&gt;append_oauth_parameters( ).

    &quot;*--- create new secret ---*
    consumer_secret = oauth-&gt;get_consumer_secret( ).
    token_secret    = oauth-&gt;get_oauth_token_secret( ).

    CONCATENATE
      consumer_secret
      token_secret
    INTO secret.

    oauth-&gt;set_oauth_secret( secret ).

    CONCATENATE
      zcl_twa_api=&gt;api_version
      &apos;/users/show/&apos;
      username
      &apos;.json&apos;
    INTO appendix.

    &quot;*--- set url ---*
    CONCATENATE
      zcl_twa_api=&gt;api_protocol
      zcl_twa_api=&gt;api_host
      appendix
    INTO url.

    oauth-&gt;set_oauth_url( url ).

    &quot;*--- sign message ---*
    oauth-&gt;sign_message( &apos;GET&apos; ).

    &quot;*--- send request ---*
    json = oauth-&gt;fetchurl( method = &apos;GET&apos; url = appendix ).

    user = zcl_twa_user=&gt;newfromjson( json ).

  ENDMETHOD.                    &quot;SHOW</source>
  </method>
  <method CLSNAME="ZCL_TWA_USER_RES" CMPNAME="SUGGESTIONS" VERSION="1" LANGU="E" DESCRIPT="* http://dev.twitter.com/doc/get/users/suggestions" EXPOSURE="2" STATE="1" EDITORDER="5 " DISPID="0 " MTDTYPE="0" MTDDECLTYP="0" BCMTDCAT="00" BCMTDSYN="0">
   <source>METHOD suggestions.
  ENDMETHOD.                    &quot;SUGGESTIONS</source>
  </method>
 </CLAS>
 <PROG NAME="Z_TWA_DEMO" VARCL="X" SUBC="1" RMAND="001" RLOAD="E" FIXPT="X" UCCHECK="X">
  <textPool>
   <language SPRAS="E">
    <textElement ID="R" ENTRY="Twibap: Demo" LENGTH="12 "/>
   </language>
  </textPool>
  <source>*&amp;---------------------------------------------------------------------*
*&amp; Report  Z_TWA_DEMO
*&amp;
*&amp;---------------------------------------------------------------------*
*&amp;
*&amp;
*&amp;---------------------------------------------------------------------*

*--------------------------------------------------------------------*
*
* Twibap: The ABAP Twitter API
* Copyright (C) 2010 SAP Developer Network members
*
* Project home: https://cw.sdn.sap.com/cw/groups/twibap
*
* Published under the Terms of use of SAP Code Exchange:
* http://www.sdn.sap.com/irj/sdn/code-exchange
*
*--------------------------------------------------------------------*

REPORT  z_twa_demo.

WRITE:/ &apos;No anonymous calls allowed anymore with Twitter API V1.1&apos;.

*DATA: twitter_api   TYPE REF TO zcl_twa_api
*    , statuses      TYPE zcl_twa_status_t
*    , text          TYPE string
*    , id            TYPE string
*    , user          TYPE REF TO zcl_twa_user
*    , screen_name   TYPE string
*    , twitter_error TYPE REF TO zcx_oauth_error
*    , error_text    TYPE string
*    .
*
*FIELD-SYMBOLS: &lt;status&gt; TYPE REF TO zcl_twa_status.
*
*TRY.
*    twitter_api = zcl_twa_api=&gt;getapi( ).
*    statuses = twitter_api-&gt;timeline_res-&gt;public_timeline( ).
*
*  CATCH zcx_oauth_error INTO twitter_error.
*
*    error_text = twitter_error-&gt;get_text( ).
*    WRITE:/ error_text.
*    RETURN.
*
*ENDTRY.
*
*LOOP AT statuses
*  ASSIGNING &lt;status&gt;.
*
*  text = &lt;status&gt;-&gt;gettext( ).
*  id   = &lt;status&gt;-&gt;getid( ).
*  user = &lt;status&gt;-&gt;getuser( ).
*  screen_name = user-&gt;getscreenname( ).
*  WRITE:/ id, screen_name, 25 text.
*
*ENDLOOP.</source>
 </PROG>
 <TTYP TYPENAME="ZCL_TWA_DM_T" DDLANGUAGE="E" ROWTYPE="ZCL_TWA_DM" ROWKIND="R" DATATYPE="REF" LENG="000000" DECIMALS="000000" ACCESSMODE="T" KEYDEF="D" KEYKIND="N" KEYFDCOUNT="0000" DDTEXT="Direct Message Table" TYPELEN="000008" CTLENG="000000" CTDECIMALS="000000" REFTYPE="C" OCCURS="00000"/>
 <TTYP TYPENAME="ZCL_TWA_STATUS_T" DDLANGUAGE="E" ROWTYPE="ZCL_TWA_STATUS" ROWKIND="R" DATATYPE="REF" LENG="000000" DECIMALS="000000" ACCESSMODE="T" KEYDEF="D" KEYKIND="N" KEYFDCOUNT="0000" DDTEXT="Twitter Status table" TYPELEN="000008" CTLENG="000000" CTDECIMALS="000000" REFTYPE="C" OCCURS="00000"/>
 <TTYP TYPENAME="ZCL_TWA_USER_T" DDLANGUAGE="E" ROWTYPE="ZCL_TWA_USER" ROWKIND="R" DATATYPE="REF" LENG="000000" DECIMALS="000000" ACCESSMODE="T" KEYDEF="D" KEYKIND="N" KEYFDCOUNT="0000" DDTEXT="Twitter User table" TYPELEN="000008" CTLENG="000000" CTDECIMALS="000000" REFTYPE="C" OCCURS="00000"/>
</nugget>
